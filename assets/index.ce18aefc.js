import{S as Y,i as G,s as q,c as j,m as N,t as y,a as T,d as U,e as h,b as z,f as O,g as b,h as E,j as P,k as d,l as X,n as Q,o as W,p as Z,q as L,r as ae,F as ne,w as Ye,u as ee,v as Ge,x as qe,y as x,z as Ke,A as Ve,B as ue,C as Xe,D as ie,E as se,G as oe,H as Qe,I as We,J as Ze,K as xe,L as et,M as tt,N as lt,O as nt,P as fe,Q as ce,R as it,T as st,U as de,V as _e,W as ot}from"./vendor.e4e3237e.js";const ct=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function l(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(n){if(n.ep)return;n.ep=!0;const c=l(n);fetch(n.href,c)}};ct();function ve(i){let e,l;return e=new ne({props:{icon:i[4],class:"icon"}}),{c(){j(e.$$.fragment)},m(t,n){N(e,t,n),l=!0},p(t,n){const c={};n&16&&(c.icon=t[4]),e.$set(c)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function rt(i){let e,l,t,n,c,s,r=i[4]&&ve(i);return{c(){e=h("button"),l=z(i[0]),t=O(),r&&r.c(),b(e,"class","svelte-1pecgy5"),E(e,"icon-top",i[2]==="top"),E(e,"icon-only",i[2]==="only"),E(e,"contained",i[1]==="contained"),E(e,"outlined",i[1]==="outlined"),E(e,"size-s",i[3]==="S"),E(e,"is-pressed",i[5])},m(o,a){P(o,e,a),d(e,l),d(e,t),r&&r.m(e,null),n=!0,c||(s=X(e,"click",i[6]),c=!0)},p(o,[a]){(!n||a&1)&&Q(l,o[0]),o[4]?r?(r.p(o,a),a&16&&y(r,1)):(r=ve(o),r.c(),y(r,1),r.m(e,null)):r&&(W(),T(r,1,1,()=>{r=null}),Z()),a&4&&E(e,"icon-top",o[2]==="top"),a&4&&E(e,"icon-only",o[2]==="only"),a&2&&E(e,"contained",o[1]==="contained"),a&2&&E(e,"outlined",o[1]==="outlined"),a&8&&E(e,"size-s",o[3]==="S"),a&32&&E(e,"is-pressed",o[5])},i(o){n||(y(r),n=!0)},o(o){T(r),n=!1},d(o){o&&L(e),r&&r.d(),c=!1,s()}}}function at(i,e,l){let{text:t=""}=e,{variant:n="contained"}=e,{iconPosition:c="top"}=e,{size:s="M"}=e,{icon:r=null}=e,{isPressed:o=!1}=e;const a=ae(),u=()=>a("click");return i.$$set=f=>{"text"in f&&l(0,t=f.text),"variant"in f&&l(1,n=f.variant),"iconPosition"in f&&l(2,c=f.iconPosition),"size"in f&&l(3,s=f.size),"icon"in f&&l(4,r=f.icon),"isPressed"in f&&l(5,o=f.isPressed)},[t,n,c,s,r,o,u]}class le extends Y{constructor(e){super();G(this,e,at,rt,q,{text:0,variant:1,iconPosition:2,size:3,icon:4,isPressed:5})}}var B;(function(i){i.MAIN="Main",i.SORT="Sort",i.SERVICE="Service"})(B||(B={}));const he=[{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",type:B.MAIN},{title:"\u0423\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u0438\u0432\u0430\u043D\u0438\u0435",type:B.SORT},{title:"\u0421\u0435\u0440\u0432\u0438\u0441",type:B.SERVICE}],re=Ye(!0);function ge(i){let e,l,t,n,c,s,r,o;return n=new le({props:{variant:"outlined",color:"primary",text:"\u0441\u043E\u0437\u0434\u0430\u0442\u044C",icon:Ge,iconPosition:"top"}}),n.$on("click",i[1]),r=new le({props:{variant:"outlined",color:"primary",text:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C",iconPosition:"top",icon:qe}}),{c(){e=h("div"),l=h("ul"),t=h("li"),j(n.$$.fragment),c=O(),s=h("li"),j(r.$$.fragment),b(t,"class","svelte-s9vjz0"),b(s,"class","svelte-s9vjz0"),b(l,"class","buttons svelte-s9vjz0"),b(e,"class","panel")},m(a,u){P(a,e,u),d(e,l),d(l,t),N(n,t,null),d(l,c),d(l,s),N(r,s,null),o=!0},p:ee,i(a){o||(y(n.$$.fragment,a),y(r.$$.fragment,a),o=!0)},o(a){T(n.$$.fragment,a),T(r.$$.fragment,a),o=!1},d(a){a&&L(e),U(n),U(r)}}}function me(i){let e;return{c(){e=h("div"),b(e,"class","panel")},m(l,t){P(l,e,t)},d(l){l&&L(e)}}}function ut(i){let e,l,t,n=i[0]===B.MAIN&&ge(i),c=i[0]===B.SORT&&me();return{c(){e=h("div"),n&&n.c(),l=O(),c&&c.c(),b(e,"class","container svelte-s9vjz0")},m(s,r){P(s,e,r),n&&n.m(e,null),d(e,l),c&&c.m(e,null),t=!0},p(s,[r]){s[0]===B.MAIN?n?(n.p(s,r),r&1&&y(n,1)):(n=ge(s),n.c(),y(n,1),n.m(e,l)):n&&(W(),T(n,1,1,()=>{n=null}),Z()),s[0]===B.SORT?c||(c=me(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(s){t||(y(n),t=!0)},o(s){T(n),t=!1},d(s){s&&L(e),n&&n.d(),c&&c.d()}}}function ft(i,e,l){let{activeMenu:t=B.MAIN}=e;const n=()=>re.set(!0);return i.$$set=c=>{"activeMenu"in c&&l(0,t=c.activeMenu)},[t,n]}class dt extends Y{constructor(e){super();G(this,e,ft,ut,q,{activeMenu:0})}}function pe(i,e,l){const t=i.slice();return t[3]=e[l].type,t[4]=e[l].title,t}function be(i){let e,l,t=i[4]+"",n,c,s,r;function o(){return i[2](i[3])}return{c(){e=h("li"),l=h("button"),n=z(t),c=O(),b(l,"class","svelte-48shyi"),E(l,"is-active",i[3]===i[0])},m(a,u){P(a,e,u),d(e,l),d(l,n),d(e,c),s||(r=X(l,"click",o),s=!0)},p(a,u){i=a,u&1&&E(l,"is-active",i[3]===i[0])},d(a){a&&L(e),s=!1,r()}}}function _t(i){let e,l,t,n,c,s=he,r=[];for(let o=0;o<s.length;o+=1)r[o]=be(pe(i,s,o));return n=new dt({props:{activeMenu:i[0]}}),{c(){e=h("header"),l=h("ul");for(let o=0;o<r.length;o+=1)r[o].c();t=O(),j(n.$$.fragment),b(l,"class","buttons svelte-48shyi"),b(e,"class","container")},m(o,a){P(o,e,a),d(e,l);for(let u=0;u<r.length;u+=1)r[u].m(l,null);P(o,t,a),N(n,o,a),c=!0},p(o,[a]){if(a&3){s=he;let f;for(f=0;f<s.length;f+=1){const m=pe(o,s,f);r[f]?r[f].p(m,a):(r[f]=be(m),r[f].c(),r[f].m(l,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=s.length}const u={};a&1&&(u.activeMenu=o[0]),n.$set(u)},i(o){c||(y(n.$$.fragment,o),c=!0)},o(o){T(n.$$.fragment,o),c=!1},d(o){o&&L(e),x(r,o),o&&L(t),U(n,o)}}}function vt(i,e,l){let t=B.MAIN;const n=s=>l(0,t=s);return[t,n,s=>n(s)]}class ht extends Y{constructor(e){super();G(this,e,vt,_t,q,{})}}var te;(function(i){i.INPUT="Input",i.OUTPUT="Output"})(te||(te={}));const ke=[{title:"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:te.INPUT,icon:Ke},{title:"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:te.OUTPUT,icon:Ve}];function $e(i,e,l){const t=i.slice();return t[3]=e[l].title,t[4]=e[l].type,t[5]=e[l].icon,t}function ye(i){let e,l,t,n,c=i[3]+"",s,r,o,a,u;t=new ne({props:{icon:i[5],size:"1x",class:"icon"}});function f(){return i[2](i[4])}return{c(){e=h("li"),l=h("button"),j(t.$$.fragment),n=O(),s=z(c),r=O(),b(l,"class","svelte-4gplm0"),E(l,"is-active",i[4]===i[0]),b(e,"class","svelte-4gplm0")},m(m,k){P(m,e,k),d(e,l),N(t,l,null),d(l,n),d(l,s),d(e,r),o=!0,a||(u=X(l,"click",f),a=!0)},p(m,k){i=m,k&1&&E(l,"is-active",i[4]===i[0])},i(m){o||(y(t.$$.fragment,m),o=!0)},o(m){T(t.$$.fragment,m),o=!1},d(m){m&&L(e),U(t),a=!1,u()}}}function gt(i){let e,l,t=ke,n=[];for(let s=0;s<t.length;s+=1)n[s]=ye($e(i,t,s));const c=s=>T(n[s],1,1,()=>{n[s]=null});return{c(){e=h("ul");for(let s=0;s<n.length;s+=1)n[s].c();b(e,"class","svelte-4gplm0")},m(s,r){P(s,e,r);for(let o=0;o<n.length;o+=1)n[o].m(e,null);l=!0},p(s,[r]){if(r&3){t=ke;let o;for(o=0;o<t.length;o+=1){const a=$e(s,t,o);n[o]?(n[o].p(a,r),y(n[o],1)):(n[o]=ye(a),n[o].c(),y(n[o],1),n[o].m(e,null))}for(W(),o=t.length;o<n.length;o+=1)c(o);Z()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)y(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)T(n[r]);l=!1},d(s){s&&L(e),x(n,s)}}}function mt(i,e,l){let{activeFolder:t=te.INPUT}=e;const n=s=>l(0,t=s),c=s=>n(s);return i.$$set=s=>{"activeFolder"in s&&l(0,t=s.activeFolder)},[t,n,c]}class pt extends Y{constructor(e){super();G(this,e,mt,gt,q,{activeFolder:0})}}function Ce(i,e,l){const t=i.slice();return t[4]=e[l].id,t[5]=e[l].sender,t[6]=e[l].subject,t[7]=e[l].time,t[8]=e[l].body,t}function Me(i){let e,l,t,n,c=i[5].title+"",s,r,o,a,u=i[6]+"",f,m,k,C=i[7]+"",_,p,M,I=i[8].title+"",R,$,K,D;function S(){return i[3](i[4])}return{c(){var J;e=h("li"),l=h("button"),t=h("div"),n=h("div"),s=z(c),r=O(),o=h("div"),a=h("span"),f=z(u),m=O(),k=h("time"),_=z(C),p=O(),M=h("div"),R=z(I),$=O(),b(n,"class","title svelte-13cud08"),b(a,"class","svelte-13cud08"),b(k,"class","svelte-13cud08"),b(o,"class","subject svelte-13cud08"),b(M,"class","body svelte-13cud08"),b(t,"class","wrapper svelte-13cud08"),b(l,"class","svelte-13cud08"),E(l,"is-active",((J=i[0])==null?void 0:J.id)===i[4]),b(e,"class","svelte-13cud08")},m(J,A){P(J,e,A),d(e,l),d(l,t),d(t,n),d(n,s),d(t,r),d(t,o),d(o,a),d(a,f),d(o,m),d(o,k),d(k,_),d(t,p),d(t,M),d(M,R),d(e,$),K||(D=X(l,"click",S),K=!0)},p(J,A){var w;i=J,A&2&&c!==(c=i[5].title+"")&&Q(s,c),A&2&&u!==(u=i[6]+"")&&Q(f,u),A&2&&C!==(C=i[7]+"")&&Q(_,C),A&2&&I!==(I=i[8].title+"")&&Q(R,I),A&3&&E(l,"is-active",((w=i[0])==null?void 0:w.id)===i[4])},d(J){J&&L(e),K=!1,D()}}}function bt(i){let e,l=i[1],t=[];for(let n=0;n<l.length;n+=1)t[n]=Me(Ce(i,l,n));return{c(){e=h("ul");for(let n=0;n<t.length;n+=1)t[n].c();b(e,"class","svelte-13cud08")},m(n,c){P(n,e,c);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(n,[c]){if(c&7){l=n[1];let s;for(s=0;s<l.length;s+=1){const r=Ce(n,l,s);t[s]?t[s].p(r,c):(t[s]=Me(r),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},i:ee,o:ee,d(n){n&&L(e),x(t,n)}}}function kt(i,e,l){let{messages:t=[]}=e,{activeMessage:n=null}=e;const c=r=>{const o=t.find(({id:a})=>a===r);o&&l(0,n=o)},s=r=>c(r);return i.$$set=r=>{"messages"in r&&l(1,t=r.messages),"activeMessage"in r&&l(0,n=r.activeMessage)},[n,t,c,s]}class $t extends Y{constructor(e){super();G(this,e,kt,bt,q,{messages:1,activeMessage:0})}}function Ie(i,e,l){const t=i.slice();return t[1]=e[l],t}function Te(i){let e,l,t=i[0].subject+"",n,c,s,r,o=i[0].sender.title+"",a,u,f,m,k,C,_=i[0].body.html+"",p=i[0].recipients,M=[];for(let I=0;I<p.length;I+=1)M[I]=Fe(Ie(i,p,I));return{c(){e=h("div"),l=h("h2"),n=z(t),c=O(),s=h("div"),r=z("\u041E\u0442 \u043A\u043E\u0433\u043E: "),a=z(o),u=O(),f=h("div"),m=z(`\u041A\u043E\u043C\u0443:
      `);for(let I=0;I<M.length;I+=1)M[I].c();k=O(),C=h("div"),b(l,"class","svelte-1jksqi8"),b(C,"class","body"),b(e,"class","container svelte-1jksqi8")},m(I,R){P(I,e,R),d(e,l),d(l,n),d(e,c),d(e,s),d(s,r),d(s,a),d(e,u),d(e,f),d(f,m);for(let $=0;$<M.length;$+=1)M[$].m(f,null);d(e,k),d(e,C),C.innerHTML=_},p(I,R){if(R&1&&t!==(t=I[0].subject+"")&&Q(n,t),R&1&&o!==(o=I[0].sender.title+"")&&Q(a,o),R&1){p=I[0].recipients;let $;for($=0;$<p.length;$+=1){const K=Ie(I,p,$);M[$]?M[$].p(K,R):(M[$]=Fe(K),M[$].c(),M[$].m(f,null))}for(;$<M.length;$+=1)M[$].d(1);M.length=p.length}R&1&&_!==(_=I[0].body.html+"")&&(C.innerHTML=_)},d(I){I&&L(e),x(M,I)}}}function Fe(i){let e=i[1].title+"",l;return{c(){l=z(e)},m(t,n){P(t,l,n)},p(t,n){n&1&&e!==(e=t[1].title+"")&&Q(l,e)},d(t){t&&L(l)}}}function yt(i){let e,l=i[0]!==null&&Te(i);return{c(){l&&l.c(),e=ue()},m(t,n){l&&l.m(t,n),P(t,e,n)},p(t,[n]){t[0]!==null?l?l.p(t,n):(l=Te(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ee,o:ee,d(t){l&&l.d(t),t&&L(e)}}}function Ct(i,e,l){let{activeMessage:t=null}=e;return i.$$set=n=>{"activeMessage"in n&&l(0,t=n.activeMessage)},[t]}class Mt extends Y{constructor(e){super();G(this,e,Ct,yt,q,{activeMessage:0})}}const It=async i=>{try{return await(await fetch(i)).json()}catch(e){return alert(e==null?void 0:e.message),{errorMessage:e==null?void 0:e.message}}},Tt=async i=>{const e=i===te.INPUT?"./data/mail/inbox.json":"./data/mail/outbox.json",l=await It(e);return"data"in l&&l.data?l.data.map(t=>{var n,c,s,r,o,a,u,f,m,k;return{id:(n=t.id)!=null?n:0,sender:{login:(s=(c=t==null?void 0:t.sender)==null?void 0:c.login)!=null?s:"",title:(o=(r=t==null?void 0:t.sender)==null?void 0:r.title)!=null?o:""},recipients:t==null?void 0:t.recipients.map(C=>{var _,p;return{login:(_=C.login)!=null?_:"",title:(p=C.title)!=null?p:""}}),subject:(a=t==null?void 0:t.subject)!=null?a:"",time:(t==null?void 0:t.time)?Xe(t.time).format("HH:MM"):"",body:{title:(f=(u=t==null?void 0:t.body)==null?void 0:u.title)!=null?f:"",html:(k=(m=t==null?void 0:t.body)==null?void 0:m.html)!=null?k:""}}}):[]};function Ft(i){let e,l,t,n,c,s,r,o,a;function u(_){i[3](_)}function f(_){i[4](_)}let m={};i[0]!==void 0&&(m.activeFolder=i[0]),i[1]!==void 0&&(m.activeMessage=i[1]),e=new pt({props:m}),ie.push(()=>se(e,"activeFolder",u)),ie.push(()=>se(e,"activeMessage",f));function k(_){i[5](_)}let C={messages:i[2]};return i[1]!==void 0&&(C.activeMessage=i[1]),c=new $t({props:C}),ie.push(()=>se(c,"activeMessage",k)),o=new Mt({props:{activeMessage:i[1]}}),{c(){j(e.$$.fragment),n=O(),j(c.$$.fragment),r=O(),j(o.$$.fragment)},m(_,p){N(e,_,p),P(_,n,p),N(c,_,p),P(_,r,p),N(o,_,p),a=!0},p(_,[p]){const M={};!l&&p&1&&(l=!0,M.activeFolder=_[0],oe(()=>l=!1)),!t&&p&2&&(t=!0,M.activeMessage=_[1],oe(()=>t=!1)),e.$set(M);const I={};p&4&&(I.messages=_[2]),!s&&p&2&&(s=!0,I.activeMessage=_[1],oe(()=>s=!1)),c.$set(I);const R={};p&2&&(R.activeMessage=_[1]),o.$set(R)},i(_){a||(y(e.$$.fragment,_),y(c.$$.fragment,_),y(o.$$.fragment,_),a=!0)},o(_){T(e.$$.fragment,_),T(c.$$.fragment,_),T(o.$$.fragment,_),a=!1},d(_){U(e,_),_&&L(n),U(c,_),_&&L(r),U(o,_)}}}function Ot(i,e,l){let t=te.INPUT,n=null,c=[];const s=async()=>{const u=await Tt(t);u.length&&(l(2,c=u),l(1,n=u[0]))};function r(u){t=u,l(0,t)}function o(u){n=u,l(1,n)}function a(u){n=u,l(1,n)}return i.$$.update=()=>{i.$$.dirty&1&&t&&s()},[t,n,c,r,o,a]}class Pt extends Y{constructor(e){super();G(this,e,Ot,Ft,q,{})}}var H;(function(i){i.BOLD="bold",i.ITALIC="italic",i.STRIKE_THROUGH="strikeThrough",i.JUSTIFY_LEFT="justifyLeft",i.JUSTIFY_CENTER="justifyCenter",i.JUSTIFY_RIGHT="justifyRight",i.JUSTIFY_FULL="justifyFull",i.FORE_COLOR="foreColor",i.HILITE_COLOR="hiliteColor"})(H||(H={}));const Oe=[{type:H.BOLD,icon:Qe},{type:H.ITALIC,icon:We},{type:H.STRIKE_THROUGH,icon:Ze}],Pe=[{type:H.JUSTIFY_LEFT,icon:xe},{type:H.JUSTIFY_CENTER,icon:et},{type:H.JUSTIFY_RIGHT,icon:tt},{type:H.JUSTIFY_FULL,icon:lt}],Le=[{type:H.FORE_COLOR,icon:null,defaultColor:"black"},{type:H.HILITE_COLOR,icon:nt,defaultColor:"white"}],we=["red","blue","orange","green","violet","black","gray","brown","coral","indigo","crimson","lime","gold","pink","white"],Lt="black";function Se(i,e,l){const t=i.slice();return t[9]=e[l],t}function Re(i){let e;return{c(){e=h("div"),b(e,"class","selected-color svelte-1tt3l3z"),ce(e,"background-color",i[0])},m(l,t){P(l,e,t)},p(l,t){t&1&&ce(e,"background-color",l[0])},d(l){l&&L(e)}}}function Ee(i){let e,l,t,n,c,s,r,o,a=we,u=[];for(let f=0;f<a.length;f+=1)u[f]=je(Se(i,a,f));return{c(){e=h("div"),l=h("ul");for(let f=0;f<u.length;f+=1)u[f].c();t=O(),n=h("button"),n.textContent="\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0446\u0432\u0435\u0442",b(l,"class","colors svelte-1tt3l3z"),b(n,"class","reset svelte-1tt3l3z"),b(e,"class","content svelte-1tt3l3z")},m(f,m){P(f,e,m),d(e,l);for(let k=0;k<u.length;k+=1)u[k].m(l,null);d(e,t),d(e,n),s=!0,r||(o=X(n,"click",i[5]),r=!0)},p(f,m){if(m&16){a=we;let k;for(k=0;k<a.length;k+=1){const C=Se(f,a,k);u[k]?u[k].p(C,m):(u[k]=je(C),u[k].c(),u[k].m(l,null))}for(;k<u.length;k+=1)u[k].d(1);u.length=a.length}},i(f){s||(st(()=>{c||(c=de(e,_e,{y:-10,duration:300},!0)),c.run(1)}),s=!0)},o(f){c||(c=de(e,_e,{y:-10,duration:300},!1)),c.run(0),s=!1},d(f){f&&L(e),x(u,f),f&&c&&c.end(),r=!1,o()}}}function je(i){let e,l,t,n,c;function s(){return i[7](i[9])}return{c(){e=h("li"),l=h("button"),t=O(),b(l,"class","color svelte-1tt3l3z"),ce(l,"background-color",i[9])},m(r,o){P(r,e,o),d(e,l),d(e,t),n||(c=X(l,"click",s),n=!0)},p(r,o){i=r},d(r){r&&L(e),n=!1,c()}}}function wt(i){let e,l,t,n,c,s,r,o,a,u,f,m,k;n=new ne({props:{icon:i[1]?i[1]:fe,class:"icon"}});let C=i[0]&&Re(i);a=new ne({props:{icon:it,class:"chevron"}});let _=i[2]&&Ee(i);return{c(){e=h("div"),l=h("button"),t=h("div"),j(n.$$.fragment),c=O(),C&&C.c(),s=O(),r=h("div"),o=O(),j(a.$$.fragment),u=O(),_&&_.c(),b(r,"class","separate svelte-1tt3l3z"),b(l,"class","main-button svelte-1tt3l3z"),b(e,"class","container svelte-1tt3l3z")},m(p,M){P(p,e,M),d(e,l),d(l,t),N(n,t,null),d(t,c),C&&C.m(t,null),d(l,s),d(l,r),d(l,o),N(a,l,null),d(e,u),_&&_.m(e,null),f=!0,m||(k=X(l,"click",i[3]),m=!0)},p(p,[M]){const I={};M&2&&(I.icon=p[1]?p[1]:fe),n.$set(I),p[0]?C?C.p(p,M):(C=Re(p),C.c(),C.m(t,null)):C&&(C.d(1),C=null),p[2]?_?(_.p(p,M),M&4&&y(_,1)):(_=Ee(p),_.c(),y(_,1),_.m(e,null)):_&&(W(),T(_,1,1,()=>{_=null}),Z())},i(p){f||(y(n.$$.fragment,p),y(a.$$.fragment,p),y(_),f=!0)},o(p){T(n.$$.fragment,p),T(a.$$.fragment,p),T(_),f=!1},d(p){p&&L(e),U(n),C&&C.d(),U(a),_&&_.d(),m=!1,k()}}}function St(i,e,l){let{mainIcon:t=null}=e,n=!1,{selectedColor:c=null}=e,{defaultColor:s=Lt}=e;const r=ae(),o=()=>l(2,n=!n),a=m=>{l(0,c=m),r("select",{color:m}),l(2,n=!1)},u=()=>{l(0,c=null),r("select",{color:s}),l(2,n=!1)},f=m=>a(m);return i.$$set=m=>{"mainIcon"in m&&l(1,t=m.mainIcon),"selectedColor"in m&&l(0,c=m.selectedColor),"defaultColor"in m&&l(6,s=m.defaultColor)},[c,t,n,o,a,u,s,f]}class Rt extends Y{constructor(e){super();G(this,e,St,wt,q,{mainIcon:1,selectedColor:0,defaultColor:6})}}function Ne(i,e,l){const t=i.slice();return t[7]=e[l].type,t[8]=e[l].icon,t[9]=e[l].defaultColor,t}function Ue(i,e,l){const t=i.slice();return t[7]=e[l].type,t[8]=e[l].icon,t}function Ae(i,e,l){const t=i.slice();return t[7]=e[l].type,t[8]=e[l].icon,t[15]=l,t}function ze(i){let e,l,t,n,c,s,r,o,a,u,f,m,k,C,_,p,M,I;s=new le({props:{text:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon:ot,variant:"outlined",iconPosition:"top"}});let R=Oe,$=[];for(let g=0;g<R.length;g+=1)$[g]=Be(Ae(i,R,g));const K=g=>T($[g],1,1,()=>{$[g]=null});let D=Pe,S=[];for(let g=0;g<D.length;g+=1)S[g]=He(Ue(i,D,g));const J=g=>T(S[g],1,1,()=>{S[g]=null});let A=Le,w=[];for(let g=0;g<A.length;g+=1)w[g]=De(Ne(i,A,g));const Je=g=>T(w[g],1,1,()=>{w[g]=null});return{c(){e=h("div"),l=h("div"),t=O(),n=h("div"),c=h("div"),j(s.$$.fragment),r=O(),o=h("div"),a=h("ul");for(let g=0;g<$.length;g+=1)$[g].c();u=O(),f=h("ul");for(let g=0;g<S.length;g+=1)S[g].c();m=O(),k=h("ul");for(let g=0;g<w.length;g+=1)w[g].c();C=O(),_=h("div"),b(l,"class","overlay svelte-tfkhi5"),b(a,"class","controls svelte-tfkhi5"),b(f,"class","controls svelte-tfkhi5"),b(k,"class","controls svelte-tfkhi5"),b(o,"class","control-panel svelte-tfkhi5"),b(_,"class","field svelte-tfkhi5"),b(_,"contenteditable","true"),b(n,"class","content svelte-tfkhi5"),b(e,"class","container svelte-tfkhi5")},m(g,F){P(g,e,F),d(e,l),d(e,t),d(e,n),d(n,c),N(s,c,null),d(n,r),d(n,o),d(o,a);for(let v=0;v<$.length;v+=1)$[v].m(a,null);d(o,u),d(o,f);for(let v=0;v<S.length;v+=1)S[v].m(f,null);d(o,m),d(o,k);for(let v=0;v<w.length;v+=1)w[v].m(k,null);d(n,C),d(n,_),p=!0,M||(I=X(l,"click",i[2]),M=!0)},p(g,F){if(F&10){R=Oe;let v;for(v=0;v<R.length;v+=1){const V=Ae(g,R,v);$[v]?($[v].p(V,F),y($[v],1)):($[v]=Be(V),$[v].c(),y($[v],1),$[v].m(a,null))}for(W(),v=R.length;v<$.length;v+=1)K(v);Z()}if(F&10){D=Pe;let v;for(v=0;v<D.length;v+=1){const V=Ue(g,D,v);S[v]?(S[v].p(V,F),y(S[v],1)):(S[v]=He(V),S[v].c(),y(S[v],1),S[v].m(f,null))}for(W(),v=D.length;v<S.length;v+=1)J(v);Z()}if(F&16){A=Le;let v;for(v=0;v<A.length;v+=1){const V=Ne(g,A,v);w[v]?(w[v].p(V,F),y(w[v],1)):(w[v]=De(V),w[v].c(),y(w[v],1),w[v].m(k,null))}for(W(),v=A.length;v<w.length;v+=1)Je(v);Z()}},i(g){if(!p){y(s.$$.fragment,g);for(let F=0;F<R.length;F+=1)y($[F]);for(let F=0;F<D.length;F+=1)y(S[F]);for(let F=0;F<A.length;F+=1)y(w[F]);p=!0}},o(g){T(s.$$.fragment,g),$=$.filter(Boolean);for(let F=0;F<$.length;F+=1)T($[F]);S=S.filter(Boolean);for(let F=0;F<S.length;F+=1)T(S[F]);w=w.filter(Boolean);for(let F=0;F<w.length;F+=1)T(w[F]);p=!1},d(g){g&&L(e),U(s),x($,g),x(S,g),x(w,g),M=!1,I()}}}function Be(i){let e,l,t,n;function c(){return i[5](i[7])}return l=new le({props:{variant:"outlined",size:"S",icon:i[8],iconPosition:"only",isPressed:i[1].includes(i[7])}}),l.$on("click",c),{c(){e=h("li"),j(l.$$.fragment),t=O(),b(e,"class","svelte-tfkhi5")},m(s,r){P(s,e,r),N(l,e,null),d(e,t),n=!0},p(s,r){i=s;const o={};r&2&&(o.isPressed=i[1].includes(i[7])),l.$set(o)},i(s){n||(y(l.$$.fragment,s),n=!0)},o(s){T(l.$$.fragment,s),n=!1},d(s){s&&L(e),U(l)}}}function He(i){let e,l,t,n;function c(){return i[6](i[7])}return l=new le({props:{variant:"outlined",size:"S",icon:i[8],iconPosition:"only",isPressed:i[1].includes(i[7])}}),l.$on("click",c),{c(){e=h("li"),j(l.$$.fragment),t=O(),b(e,"class","svelte-tfkhi5")},m(s,r){P(s,e,r),N(l,e,null),d(e,t),n=!0},p(s,r){i=s;const o={};r&2&&(o.isPressed=i[1].includes(i[7])),l.$set(o)},i(s){n||(y(l.$$.fragment,s),n=!0)},o(s){T(l.$$.fragment,s),n=!1},d(s){s&&L(e),U(l)}}}function De(i){let e,l,t,n;return l=new Rt({props:{mainIcon:i[8],defaultColor:i[9]}}),l.$on("select",i[4](i[7])),{c(){e=h("li"),j(l.$$.fragment),t=O(),b(e,"class","svelte-tfkhi5")},m(c,s){P(c,e,s),N(l,e,null),d(e,t),n=!0},p:ee,i(c){n||(y(l.$$.fragment,c),n=!0)},o(c){T(l.$$.fragment,c),n=!1},d(c){c&&L(e),U(l)}}}function Et(i){let e,l,t=i[0]&&ze(i);return{c(){t&&t.c(),e=ue()},m(n,c){t&&t.m(n,c),P(n,e,c),l=!0},p(n,[c]){n[0]?t?(t.p(n,c),c&1&&y(t,1)):(t=ze(n),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(W(),T(t,1,1,()=>{t=null}),Z())},i(n){l||(y(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&L(e)}}}function jt(i,e,l){let t=!1,n=[];re.subscribe(u=>{l(0,t=u)});const c=()=>re.update(()=>!1),s=u=>{n.includes(u)?l(1,n=n.filter(f=>f!==u)):l(1,n=[...n,u]),document.execCommand(u)};return[t,n,c,s,u=>f=>{document.execCommand(u,!0,f.detail.color)},u=>s(u),u=>s(u)]}class Nt extends Y{constructor(e){super();G(this,e,jt,Et,q,{})}}function Ut(i){let e,l,t,n,c,s,r,o,a;return t=new ht({}),s=new Pt({}),o=new Nt({}),{c(){e=h("div"),l=h("div"),j(t.$$.fragment),n=O(),c=h("main"),j(s.$$.fragment),r=O(),j(o.$$.fragment),b(c,"class","main svelte-3yjb9v"),b(l,"class","app svelte-3yjb9v"),b(e,"class","container svelte-3yjb9v")},m(u,f){P(u,e,f),d(e,l),N(t,l,null),d(l,n),d(l,c),N(s,c,null),d(e,r),N(o,e,null),a=!0},p:ee,i(u){a||(y(t.$$.fragment,u),y(s.$$.fragment,u),y(o.$$.fragment,u),a=!0)},o(u){T(t.$$.fragment,u),T(s.$$.fragment,u),T(o.$$.fragment,u),a=!1},d(u){u&&L(e),U(t),U(s),U(o)}}}class At extends Y{constructor(e){super();G(this,e,null,Ut,q,{})}}new At({target:document.getElementById("app")});
