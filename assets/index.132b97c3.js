import{S as U,i as L,s as C,e as v,a as p,b as k,u as me,g as he,c as $e,t as b,d as y,f as F,h as T,j,k as E,l as u,m as R,n as G,o as J,p as be,q as Me,r as P,v as A,w as O,F as K,x as ke,y as q,z as ye,A as Q,B as V,C as Fe,D as je,E as we,G as Ie,H as W,I as X,J as Y}from"./vendor.70f4bbdc.js";const Ne=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};Ne();const Te=i=>({}),ee=i=>({});function te(i){let e,n;const t=i[4].icon,l=Me(t,i,i[3],ee);return{c(){e=v("span"),l&&l.c(),p(e,"class","icon-container svelte-7t3h26")},m(o,s){k(o,e,s),l&&l.m(e,null),n=!0},p(o,s){l&&l.p&&(!n||s&8)&&me(l,t,o,o[3],n?$e(t,o[3],s,Te):he(o[3]),ee)},i(o){n||(b(l,o),n=!0)},o(o){y(l,o),n=!1},d(o){o&&F(e),l&&l.d(o)}}}function Ee(i){let e,n,t,l,o=i[2].icon&&te(i);return{c(){e=v("button"),n=T(i[0]),t=j(),o&&o.c(),p(e,"class","svelte-7t3h26"),E(e,"icon-top",Pe==="top"),E(e,"contained",i[1]==="contained"),E(e,"outlined",i[1]==="outlined")},m(s,c){k(s,e,c),u(e,n),u(e,t),o&&o.m(e,null),l=!0},p(s,[c]){(!l||c&1)&&R(n,s[0]),s[2].icon?o?(o.p(s,c),c&4&&b(o,1)):(o=te(s),o.c(),b(o,1),o.m(e,null)):o&&(G(),y(o,1,1,()=>{o=null}),J()),c&2&&E(e,"contained",s[1]==="contained"),c&2&&E(e,"outlined",s[1]==="outlined")},i(s){l||(b(o),l=!0)},o(s){y(o),l=!1},d(s){s&&F(e),o&&o.d()}}}let Pe="top";function Ae(i,e,n){let{$$slots:t={},$$scope:l}=e;const o=be(t);let{text:s=""}=e,{variant:c="contained"}=e;return i.$$set=a=>{"text"in a&&n(0,s=a.text),"variant"in a&&n(1,c=a.variant),"$$scope"in a&&n(3,l=a.$$scope)},[s,c,o,l,t]}class le extends U{constructor(e){super();L(this,e,Ae,Ee,C,{text:0,variant:1})}}var S;(function(i){i.MAIN="Main",i.SORT="Sort",i.SERVICE="Service"})(S||(S={}));const ne=[{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",type:S.MAIN},{title:"\u0423\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u0438\u0432\u0430\u043D\u0438\u0435",type:S.SORT},{title:"\u0421\u0435\u0440\u0432\u0438\u0441",type:S.SERVICE}];function ie(i){let e,n,t,l,o,s,c,a;return l=new le({props:{variant:"outlined",color:"primary",text:"\u0441\u043E\u0437\u0434\u0430\u0442\u044C",$$slots:{icon:[Oe]},$$scope:{ctx:i}}}),c=new le({props:{variant:"outlined",color:"primary",text:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C",$$slots:{icon:[Se]},$$scope:{ctx:i}}}),{c(){e=v("div"),n=v("ul"),t=v("li"),P(l.$$.fragment),o=j(),s=v("li"),P(c.$$.fragment),p(t,"class","svelte-s9vjz0"),p(s,"class","svelte-s9vjz0"),p(n,"class","buttons svelte-s9vjz0"),p(e,"class","panel")},m(r,f){k(r,e,f),u(e,n),u(n,t),A(l,t,null),u(n,o),u(n,s),A(c,s,null),a=!0},p(r,f){const _={};f&2&&(_.$$scope={dirty:f,ctx:r}),l.$set(_);const g={};f&2&&(g.$$scope={dirty:f,ctx:r}),c.$set(g)},i(r){a||(b(l.$$.fragment,r),b(c.$$.fragment,r),a=!0)},o(r){y(l.$$.fragment,r),y(c.$$.fragment,r),a=!1},d(r){r&&F(e),O(l),O(c)}}}function Oe(i){let e,n;return e=new K({props:{icon:ke,size:"1.6x"}}),{c(){P(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:q,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Se(i){let e,n;return e=new K({props:{icon:ye,size:"1.6x"}}),{c(){P(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p:q,i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function se(i){let e;return{c(){e=v("div"),p(e,"class","panel")},m(n,t){k(n,e,t)},d(n){n&&F(e)}}}function ze(i){let e,n,t,l=i[0]===S.MAIN&&ie(i),o=i[0]===S.SORT&&se();return{c(){e=v("div"),l&&l.c(),n=j(),o&&o.c(),p(e,"class","container svelte-s9vjz0")},m(s,c){k(s,e,c),l&&l.m(e,null),u(e,n),o&&o.m(e,null),t=!0},p(s,[c]){s[0]===S.MAIN?l?(l.p(s,c),c&1&&b(l,1)):(l=ie(s),l.c(),b(l,1),l.m(e,n)):l&&(G(),y(l,1,1,()=>{l=null}),J()),s[0]===S.SORT?o||(o=se(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(s){t||(b(l),t=!0)},o(s){y(l),t=!1},d(s){s&&F(e),l&&l.d(),o&&o.d()}}}function Ue(i,e,n){let{activeMenu:t=S.MAIN}=e;return i.$$set=l=>{"activeMenu"in l&&n(0,t=l.activeMenu)},[t]}class Le extends U{constructor(e){super();L(this,e,Ue,ze,C,{activeMenu:0})}}function oe(i,e,n){const t=i.slice();return t[3]=e[n].type,t[4]=e[n].title,t}function ae(i){let e,n,t=i[4]+"",l,o,s,c;function a(){return i[2](i[3])}return{c(){e=v("li"),n=v("button"),l=T(t),o=j(),p(n,"class","svelte-48shyi"),E(n,"is-active",i[3]===i[0])},m(r,f){k(r,e,f),u(e,n),u(n,l),u(e,o),s||(c=Q(n,"click",a),s=!0)},p(r,f){i=r,f&1&&E(n,"is-active",i[3]===i[0])},d(r){r&&F(e),s=!1,c()}}}function Ce(i){let e,n,t,l,o,s=ne,c=[];for(let a=0;a<s.length;a+=1)c[a]=ae(oe(i,s,a));return l=new Le({props:{activeMenu:i[0]}}),{c(){e=v("header"),n=v("ul");for(let a=0;a<c.length;a+=1)c[a].c();t=j(),P(l.$$.fragment),p(n,"class","buttons svelte-48shyi"),p(e,"class","container")},m(a,r){k(a,e,r),u(e,n);for(let f=0;f<c.length;f+=1)c[f].m(n,null);k(a,t,r),A(l,a,r),o=!0},p(a,[r]){if(r&3){s=ne;let _;for(_=0;_<s.length;_+=1){const g=oe(a,s,_);c[_]?c[_].p(g,r):(c[_]=ae(g),c[_].c(),c[_].m(n,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=s.length}const f={};r&1&&(f.activeMenu=a[0]),l.$set(f)},i(a){o||(b(l.$$.fragment,a),o=!0)},o(a){y(l.$$.fragment,a),o=!1},d(a){a&&F(e),V(c,a),a&&F(t),O(l,a)}}}function Re(i,e,n){let t=S.MAIN;const l=s=>n(0,t=s);return[t,l,s=>l(s)]}class Be extends U{constructor(e){super();L(this,e,Re,Ce,C,{})}}var D;(function(i){i.INPUT="Input",i.OUTPUT="Output"})(D||(D={}));const ce=[{title:"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:D.INPUT,icon:Fe},{title:"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:D.OUTPUT,icon:je}];function re(i,e,n){const t=i.slice();return t[3]=e[n].title,t[4]=e[n].type,t[5]=e[n].icon,t}function ue(i){let e,n,t,l,o=i[3]+"",s,c,a,r,f;t=new K({props:{icon:i[5],size:"1x",class:"icon"}});function _(){return i[2](i[4])}return{c(){e=v("li"),n=v("button"),P(t.$$.fragment),l=j(),s=T(o),c=j(),p(n,"class","svelte-i4t9ze"),E(n,"is-active",i[4]===i[0]),p(e,"class","svelte-i4t9ze")},m(g,w){k(g,e,w),u(e,n),A(t,n,null),u(n,l),u(n,s),u(e,c),a=!0,r||(f=Q(n,"click",_),r=!0)},p(g,w){i=g,w&1&&E(n,"is-active",i[4]===i[0])},i(g){a||(b(t.$$.fragment,g),a=!0)},o(g){y(t.$$.fragment,g),a=!1},d(g){g&&F(e),O(t),r=!1,f()}}}function qe(i){let e,n,t=ce,l=[];for(let s=0;s<t.length;s+=1)l[s]=ue(re(i,t,s));const o=s=>y(l[s],1,1,()=>{l[s]=null});return{c(){e=v("ul");for(let s=0;s<l.length;s+=1)l[s].c();p(e,"class","svelte-i4t9ze")},m(s,c){k(s,e,c);for(let a=0;a<l.length;a+=1)l[a].m(e,null);n=!0},p(s,[c]){if(c&3){t=ce;let a;for(a=0;a<t.length;a+=1){const r=re(s,t,a);l[a]?(l[a].p(r,c),b(l[a],1)):(l[a]=ue(r),l[a].c(),b(l[a],1),l[a].m(e,null))}for(G(),a=t.length;a<l.length;a+=1)o(a);J()}},i(s){if(!n){for(let c=0;c<t.length;c+=1)b(l[c]);n=!0}},o(s){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)y(l[c]);n=!1},d(s){s&&F(e),V(l,s)}}}function De(i,e,n){let{activeFolder:t=D.INPUT}=e;const l=s=>n(0,t=s),o=s=>l(s);return i.$$set=s=>{"activeFolder"in s&&n(0,t=s.activeFolder)},[t,l,o]}class He extends U{constructor(e){super();L(this,e,De,qe,C,{activeFolder:0})}}function fe(i,e,n){const t=i.slice();return t[4]=e[n].id,t[5]=e[n].sender,t[6]=e[n].subject,t[7]=e[n].time,t[8]=e[n].body,t}function de(i){let e,n,t,l,o=i[5].title+"",s,c,a,r,f=i[6]+"",_,g,w,I=i[7]+"",d,h,$,m=i[8].title+"",N,M,H,Z;function ge(){return i[3](i[4])}return{c(){var z;e=v("li"),n=v("button"),t=v("div"),l=v("div"),s=T(o),c=j(),a=v("div"),r=v("span"),_=T(f),g=j(),w=v("time"),d=T(I),h=j(),$=v("div"),N=T(m),M=j(),p(l,"class","title svelte-13cud08"),p(r,"class","svelte-13cud08"),p(w,"class","svelte-13cud08"),p(a,"class","subject svelte-13cud08"),p($,"class","body svelte-13cud08"),p(t,"class","wrapper svelte-13cud08"),p(n,"class","svelte-13cud08"),E(n,"is-active",((z=i[0])==null?void 0:z.id)===i[4]),p(e,"class","svelte-13cud08")},m(z,B){k(z,e,B),u(e,n),u(n,t),u(t,l),u(l,s),u(t,c),u(t,a),u(a,r),u(r,_),u(a,g),u(a,w),u(w,d),u(t,h),u(t,$),u($,N),u(e,M),H||(Z=Q(n,"click",ge),H=!0)},p(z,B){var x;i=z,B&2&&o!==(o=i[5].title+"")&&R(s,o),B&2&&f!==(f=i[6]+"")&&R(_,f),B&2&&I!==(I=i[7]+"")&&R(d,I),B&2&&m!==(m=i[8].title+"")&&R(N,m),B&3&&E(n,"is-active",((x=i[0])==null?void 0:x.id)===i[4])},d(z){z&&F(e),H=!1,Z()}}}function Ve(i){let e,n=i[1],t=[];for(let l=0;l<n.length;l+=1)t[l]=de(fe(i,n,l));return{c(){e=v("ul");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","svelte-13cud08")},m(l,o){k(l,e,o);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(l,[o]){if(o&7){n=l[1];let s;for(s=0;s<n.length;s+=1){const c=fe(l,n,s);t[s]?t[s].p(c,o):(t[s]=de(c),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:q,o:q,d(l){l&&F(e),V(t,l)}}}function Ge(i,e,n){let{messages:t=[]}=e,{activeMessage:l=null}=e;const o=c=>{const a=t.find(({id:r})=>r===c);a&&n(0,l=a)},s=c=>o(c);return i.$$set=c=>{"messages"in c&&n(1,t=c.messages),"activeMessage"in c&&n(0,l=c.activeMessage)},[l,t,o,s]}class Je extends U{constructor(e){super();L(this,e,Ge,Ve,C,{messages:1,activeMessage:0})}}function _e(i,e,n){const t=i.slice();return t[1]=e[n],t}function ve(i){let e,n,t=i[0].subject+"",l,o,s,c,a=i[0].sender.title+"",r,f,_,g,w,I,d=i[0].body.html+"",h=i[0].recipients,$=[];for(let m=0;m<h.length;m+=1)$[m]=pe(_e(i,h,m));return{c(){e=v("div"),n=v("h2"),l=T(t),o=j(),s=v("div"),c=T("\u041E\u0442 \u043A\u043E\u0433\u043E: "),r=T(a),f=j(),_=v("div"),g=T(`\u041A\u043E\u043C\u0443:
      `);for(let m=0;m<$.length;m+=1)$[m].c();w=j(),I=v("div"),p(n,"class","svelte-1jksqi8"),p(I,"class","body"),p(e,"class","container svelte-1jksqi8")},m(m,N){k(m,e,N),u(e,n),u(n,l),u(e,o),u(e,s),u(s,c),u(s,r),u(e,f),u(e,_),u(_,g);for(let M=0;M<$.length;M+=1)$[M].m(_,null);u(e,w),u(e,I),I.innerHTML=d},p(m,N){if(N&1&&t!==(t=m[0].subject+"")&&R(l,t),N&1&&a!==(a=m[0].sender.title+"")&&R(r,a),N&1){h=m[0].recipients;let M;for(M=0;M<h.length;M+=1){const H=_e(m,h,M);$[M]?$[M].p(H,N):($[M]=pe(H),$[M].c(),$[M].m(_,null))}for(;M<$.length;M+=1)$[M].d(1);$.length=h.length}N&1&&d!==(d=m[0].body.html+"")&&(I.innerHTML=d)},d(m){m&&F(e),V($,m)}}}function pe(i){let e=i[1].title+"",n;return{c(){n=T(e)},m(t,l){k(t,n,l)},p(t,l){l&1&&e!==(e=t[1].title+"")&&R(n,e)},d(t){t&&F(n)}}}function Ke(i){let e,n=i[0]&&ve(i);return{c(){n&&n.c(),e=we()},m(t,l){n&&n.m(t,l),k(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=ve(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:q,o:q,d(t){n&&n.d(t),t&&F(e)}}}function Qe(i,e,n){let{activeMessage:t=null}=e;return i.$$set=l=>{"activeMessage"in l&&n(0,t=l.activeMessage)},[t]}class We extends U{constructor(e){super();L(this,e,Qe,Ke,C,{activeMessage:0})}}const Xe=async i=>{try{return await(await fetch(i)).json()}catch(e){return alert(e==null?void 0:e.message),{errorMessage:e==null?void 0:e.message}}},Ye=async i=>{const e=i===D.INPUT?"./data/mail/inbox.json":"./data/mail/outbox.json",n=await Xe(e);return"data"in n&&n.data?n.data.map(t=>{var l,o,s,c,a,r,f,_,g,w;return{id:(l=t.id)!=null?l:0,sender:{login:(s=(o=t==null?void 0:t.sender)==null?void 0:o.login)!=null?s:"",title:(a=(c=t==null?void 0:t.sender)==null?void 0:c.title)!=null?a:""},recipients:t==null?void 0:t.recipients.map(I=>{var d,h;return{login:(d=I.login)!=null?d:"",title:(h=I.title)!=null?h:""}}),subject:(r=t==null?void 0:t.subject)!=null?r:"",time:(t==null?void 0:t.time)?Ie(t.time).format("HH:MM"):"",body:{title:(_=(f=t==null?void 0:t.body)==null?void 0:f.title)!=null?_:"",html:(w=(g=t==null?void 0:t.body)==null?void 0:g.html)!=null?w:""}}}):[]};function Ze(i){let e,n,t,l,o,s,c,a,r;function f(d){i[3](d)}function _(d){i[4](d)}let g={};i[0]!==void 0&&(g.activeFolder=i[0]),i[1]!==void 0&&(g.activeMessage=i[1]),e=new He({props:g}),W.push(()=>X(e,"activeFolder",f)),W.push(()=>X(e,"activeMessage",_));function w(d){i[5](d)}let I={messages:i[2]};return i[1]!==void 0&&(I.activeMessage=i[1]),o=new Je({props:I}),W.push(()=>X(o,"activeMessage",w)),a=new We({props:{activeMessage:i[1]}}),{c(){P(e.$$.fragment),l=j(),P(o.$$.fragment),c=j(),P(a.$$.fragment)},m(d,h){A(e,d,h),k(d,l,h),A(o,d,h),k(d,c,h),A(a,d,h),r=!0},p(d,[h]){const $={};!n&&h&1&&(n=!0,$.activeFolder=d[0],Y(()=>n=!1)),!t&&h&2&&(t=!0,$.activeMessage=d[1],Y(()=>t=!1)),e.$set($);const m={};h&4&&(m.messages=d[2]),!s&&h&2&&(s=!0,m.activeMessage=d[1],Y(()=>s=!1)),o.$set(m);const N={};h&2&&(N.activeMessage=d[1]),a.$set(N)},i(d){r||(b(e.$$.fragment,d),b(o.$$.fragment,d),b(a.$$.fragment,d),r=!0)},o(d){y(e.$$.fragment,d),y(o.$$.fragment,d),y(a.$$.fragment,d),r=!1},d(d){O(e,d),d&&F(l),O(o,d),d&&F(c),O(a,d)}}}function xe(i,e,n){let t=D.INPUT,l=null,o=[];const s=async()=>{const f=await Ye(t);f.length&&(n(2,o=f),n(1,l=f[0]))};function c(f){t=f,n(0,t)}function a(f){l=f,n(1,l)}function r(f){l=f,n(1,l)}return i.$$.update=()=>{i.$$.dirty&1&&t&&s()},[t,l,o,c,a,r]}class et extends U{constructor(e){super();L(this,e,xe,Ze,C,{})}}function tt(i){let e,n,t,l,o,s,c;return t=new Be({}),s=new et({}),{c(){e=v("div"),n=v("div"),P(t.$$.fragment),l=j(),o=v("main"),P(s.$$.fragment),p(o,"class","main svelte-3yjb9v"),p(n,"class","app svelte-3yjb9v"),p(e,"class","container svelte-3yjb9v")},m(a,r){k(a,e,r),u(e,n),A(t,n,null),u(n,l),u(n,o),A(s,o,null),c=!0},p:q,i(a){c||(b(t.$$.fragment,a),b(s.$$.fragment,a),c=!0)},o(a){y(t.$$.fragment,a),y(s.$$.fragment,a),c=!1},d(a){a&&F(e),O(t),O(s)}}}class lt extends U{constructor(e){super();L(this,e,null,tt,C,{})}}new lt({target:document.getElementById("app")});
