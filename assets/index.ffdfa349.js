import{S as N,i as A,s as O,e as d,a as _,b as h,u as oe,g as ce,c as ae,t as $,d as m,f as g,h as P,j as b,k as j,l as u,m as C,n as q,o as H,p as ue,q as fe,r as M,v as F,w,F as V,x as de,y as L,z as _e,A as J,B as G,C as pe,D as ve,E as $e,G as me}from"./vendor.7484d19a.js";const he=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}};he();const ge=r=>({}),Q=r=>({});function W(r){let e,i;const t=r[4].icon,n=fe(t,r,r[3],Q);return{c(){e=d("span"),n&&n.c(),_(e,"class","icon-container svelte-7t3h26")},m(s,l){h(s,e,l),n&&n.m(e,null),i=!0},p(s,l){n&&n.p&&(!i||l&8)&&oe(n,t,s,s[3],i?ae(t,s[3],l,ge):ce(s[3]),Q)},i(s){i||($(n,s),i=!0)},o(s){m(n,s),i=!1},d(s){s&&g(e),n&&n.d(s)}}}function be(r){let e,i,t,n,s=r[2].icon&&W(r);return{c(){e=d("button"),i=P(r[0]),t=b(),s&&s.c(),_(e,"class","svelte-7t3h26"),j(e,"icon-top",ye==="top"),j(e,"contained",r[1]==="contained"),j(e,"outlined",r[1]==="outlined")},m(l,c){h(l,e,c),u(e,i),u(e,t),s&&s.m(e,null),n=!0},p(l,[c]){(!n||c&1)&&C(i,l[0]),l[2].icon?s?(s.p(l,c),c&4&&$(s,1)):(s=W(l),s.c(),$(s,1),s.m(e,null)):s&&(q(),m(s,1,1,()=>{s=null}),H()),c&2&&j(e,"contained",l[1]==="contained"),c&2&&j(e,"outlined",l[1]==="outlined")},i(l){n||($(s),n=!0)},o(l){m(s),n=!1},d(l){l&&g(e),s&&s.d()}}}let ye="top";function ke(r,e,i){let{$$slots:t={},$$scope:n}=e;const s=ue(t);let{text:l=""}=e,{variant:c="contained"}=e;return r.$$set=o=>{"text"in o&&i(0,l=o.text),"variant"in o&&i(1,c=o.variant),"$$scope"in o&&i(3,n=o.$$scope)},[l,c,s,n,t]}class X extends N{constructor(e){super();A(this,e,ke,be,O,{text:0,variant:1})}}var k;(function(r){r.MAIN="Main",r.SORT="Sort",r.SERVICE="Service"})(k||(k={}));const Y=[{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",type:k.MAIN},{title:"\u0423\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u0438\u0432\u0430\u043D\u0438\u0435",type:k.SORT},{title:"\u0421\u0435\u0440\u0432\u0438\u0441",type:k.SERVICE}];function Z(r){let e,i,t,n,s,l,c,o;return n=new X({props:{variant:"outlined",color:"primary",text:"\u0441\u043E\u0437\u0434\u0430\u0442\u044C",$$slots:{icon:[Me]},$$scope:{ctx:r}}}),c=new X({props:{variant:"outlined",color:"primary",text:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C",$$slots:{icon:[Fe]},$$scope:{ctx:r}}}),{c(){e=d("div"),i=d("ul"),t=d("li"),M(n.$$.fragment),s=b(),l=d("li"),M(c.$$.fragment),_(t,"class","svelte-s9vjz0"),_(l,"class","svelte-s9vjz0"),_(i,"class","buttons svelte-s9vjz0"),_(e,"class","panel")},m(a,f){h(a,e,f),u(e,i),u(i,t),F(n,t,null),u(i,s),u(i,l),F(c,l,null),o=!0},p(a,f){const p={};f&2&&(p.$$scope={dirty:f,ctx:a}),n.$set(p);const v={};f&2&&(v.$$scope={dirty:f,ctx:a}),c.$set(v)},i(a){o||($(n.$$.fragment,a),$(c.$$.fragment,a),o=!0)},o(a){m(n.$$.fragment,a),m(c.$$.fragment,a),o=!1},d(a){a&&g(e),w(n),w(c)}}}function Me(r){let e,i;return e=new V({props:{icon:de,size:"1.6x"}}),{c(){M(e.$$.fragment)},m(t,n){F(e,t,n),i=!0},p:L,i(t){i||($(e.$$.fragment,t),i=!0)},o(t){m(e.$$.fragment,t),i=!1},d(t){w(e,t)}}}function Fe(r){let e,i;return e=new V({props:{icon:_e,size:"1.6x"}}),{c(){M(e.$$.fragment)},m(t,n){F(e,t,n),i=!0},p:L,i(t){i||($(e.$$.fragment,t),i=!0)},o(t){m(e.$$.fragment,t),i=!1},d(t){w(e,t)}}}function x(r){let e;return{c(){e=d("div"),_(e,"class","panel")},m(i,t){h(i,e,t)},d(i){i&&g(e)}}}function we(r){let e,i,t,n=r[0]===k.MAIN&&Z(r),s=r[0]===k.SORT&&x();return{c(){e=d("div"),n&&n.c(),i=b(),s&&s.c(),_(e,"class","container svelte-s9vjz0")},m(l,c){h(l,e,c),n&&n.m(e,null),u(e,i),s&&s.m(e,null),t=!0},p(l,[c]){l[0]===k.MAIN?n?(n.p(l,c),c&1&&$(n,1)):(n=Z(l),n.c(),$(n,1),n.m(e,i)):n&&(q(),m(n,1,1,()=>{n=null}),H()),l[0]===k.SORT?s||(s=x(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(l){t||($(n),t=!0)},o(l){m(n),t=!1},d(l){l&&g(e),n&&n.d(),s&&s.d()}}}function je(r,e,i){let{activeMenu:t=k.MAIN}=e;return r.$$set=n=>{"activeMenu"in n&&i(0,t=n.activeMenu)},[t]}class Ie extends N{constructor(e){super();A(this,e,je,we,O,{activeMenu:0})}}function ee(r,e,i){const t=r.slice();return t[3]=e[i].type,t[4]=e[i].title,t}function te(r){let e,i,t=r[4]+"",n,s,l,c;function o(){return r[2](r[3])}return{c(){e=d("li"),i=d("button"),n=P(t),s=b(),_(i,"class","svelte-48shyi"),j(i,"is-active",r[3]===r[0])},m(a,f){h(a,e,f),u(e,i),u(i,n),u(e,s),l||(c=J(i,"click",o),l=!0)},p(a,f){r=a,f&1&&j(i,"is-active",r[3]===r[0])},d(a){a&&g(e),l=!1,c()}}}function Ee(r){let e,i,t,n,s,l=Y,c=[];for(let o=0;o<l.length;o+=1)c[o]=te(ee(r,l,o));return n=new Ie({props:{activeMenu:r[0]}}),{c(){e=d("header"),i=d("ul");for(let o=0;o<c.length;o+=1)c[o].c();t=b(),M(n.$$.fragment),_(i,"class","buttons svelte-48shyi"),_(e,"class","container")},m(o,a){h(o,e,a),u(e,i);for(let f=0;f<c.length;f+=1)c[f].m(i,null);h(o,t,a),F(n,o,a),s=!0},p(o,[a]){if(a&3){l=Y;let p;for(p=0;p<l.length;p+=1){const v=ee(o,l,p);c[p]?c[p].p(v,a):(c[p]=te(v),c[p].c(),c[p].m(i,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=l.length}const f={};a&1&&(f.activeMenu=o[0]),n.$set(f)},i(o){s||($(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&g(e),G(c,o),o&&g(t),w(n,o)}}}function Ne(r,e,i){let t=k.MAIN;const n=l=>i(0,t=l);return[t,n,l=>n(l)]}class Ae extends N{constructor(e){super();A(this,e,Ne,Ee,O,{})}}var z;(function(r){r.INPUT="Input",r.OUTPUT="Output"})(z||(z={}));const ne=[{title:"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:z.INPUT,icon:pe},{title:"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:z.OUTPUT,icon:ve}];function le(r,e,i){const t=r.slice();return t[4]=e[i].title,t[5]=e[i].type,t[6]=e[i].icon,t}function ie(r){let e,i,t,n,s=r[4]+"",l,c,o,a,f;t=new V({props:{icon:r[6],size:"1x",class:"icon"}});function p(){return r[2](r[5])}return{c(){e=d("li"),i=d("button"),M(t.$$.fragment),n=b(),l=P(s),c=b(),_(i,"class","svelte-i4t9ze"),j(i,"is-active",r[5]===r[0]),_(e,"class","svelte-i4t9ze")},m(v,y){h(v,e,y),u(e,i),F(t,i,null),u(i,n),u(i,l),u(e,c),o=!0,a||(f=J(i,"click",p),a=!0)},p(v,y){r=v,y&1&&j(i,"is-active",r[5]===r[0])},i(v){o||($(t.$$.fragment,v),o=!0)},o(v){m(t.$$.fragment,v),o=!1},d(v){v&&g(e),w(t),a=!1,f()}}}function Oe(r){let e,i,t=ne,n=[];for(let l=0;l<t.length;l+=1)n[l]=ie(le(r,t,l));const s=l=>m(n[l],1,1,()=>{n[l]=null});return{c(){e=d("ul");for(let l=0;l<n.length;l+=1)n[l].c();_(e,"class","svelte-i4t9ze")},m(l,c){h(l,e,c);for(let o=0;o<n.length;o+=1)n[o].m(e,null);i=!0},p(l,[c]){if(c&3){t=ne;let o;for(o=0;o<t.length;o+=1){const a=le(l,t,o);n[o]?(n[o].p(a,c),$(n[o],1)):(n[o]=ie(a),n[o].c(),$(n[o],1),n[o].m(e,null))}for(q(),o=t.length;o<n.length;o+=1)s(o);H()}},i(l){if(!i){for(let c=0;c<t.length;c+=1)$(n[c]);i=!0}},o(l){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)m(n[c]);i=!1},d(l){l&&g(e),G(n,l)}}}function Pe(r,e,i){let{activeFolder:t}=e;const n=$e(),s=c=>n("click",{type:c}),l=c=>s(c);return r.$$set=c=>{"activeFolder"in c&&i(0,t=c.activeFolder)},[t,s,l]}class Se extends N{constructor(e){super();A(this,e,Pe,Oe,O,{activeFolder:0})}}function se(r,e,i){const t=r.slice();return t[1]=e[i].sender,t[2]=e[i].subject,t[3]=e[i].time,t[4]=e[i].body,t}function re(r){let e,i,t,n,s=r[1].title+"",l,c,o,a,f=r[2]+"",p,v,y,E=r[3]+"",S,U,R,D=r[4].title+"",B,K;return{c(){e=d("li"),i=d("button"),t=d("div"),n=d("div"),l=P(s),c=b(),o=d("div"),a=d("span"),p=P(f),v=b(),y=d("time"),S=P(E),U=b(),R=d("div"),B=P(D),K=b(),_(n,"class","title svelte-1952uk0"),_(a,"class","svelte-1952uk0"),_(y,"class","svelte-1952uk0"),_(o,"class","subject svelte-1952uk0"),_(R,"class","body svelte-1952uk0"),_(t,"class","wrapper svelte-1952uk0"),_(i,"class","svelte-1952uk0"),_(e,"class","svelte-1952uk0")},m(I,T){h(I,e,T),u(e,i),u(i,t),u(t,n),u(n,l),u(t,c),u(t,o),u(o,a),u(a,p),u(o,v),u(o,y),u(y,S),u(t,U),u(t,R),u(R,B),u(e,K)},p(I,T){T&1&&s!==(s=I[1].title+"")&&C(l,s),T&1&&f!==(f=I[2]+"")&&C(p,f),T&1&&E!==(E=I[3]+"")&&C(S,E),T&1&&D!==(D=I[4].title+"")&&C(B,D)},d(I){I&&g(e)}}}function Te(r){let e,i=r[0],t=[];for(let n=0;n<i.length;n+=1)t[n]=re(se(r,i,n));return{c(){e=d("ul");for(let n=0;n<t.length;n+=1)t[n].c();_(e,"class","svelte-1952uk0")},m(n,s){h(n,e,s);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(n,[s]){if(s&1){i=n[0];let l;for(l=0;l<i.length;l+=1){const c=se(n,i,l);t[l]?t[l].p(c,s):(t[l]=re(c),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=i.length}},i:L,o:L,d(n){n&&g(e),G(t,n)}}}function ze(r,e,i){let{messages:t=[]}=e;return r.$$set=n=>{"messages"in n&&i(0,t=n.messages)},[t]}class Ue extends N{constructor(e){super();A(this,e,ze,Te,O,{messages:0})}}const Ce=async r=>{try{return await(await fetch(r)).json()}catch(e){return alert(e==null?void 0:e.message),{errorMessage:e==null?void 0:e.message}}},Le=async r=>{const e=r===z.INPUT?"/data/mail/inbox.json":"/data/mail/outbox.json",i=await Ce(e);return"data"in i&&i.data?i.data.map(t=>{var n,s,l,c,o,a,f,p,v,y;return{id:(n=t.id)!=null?n:0,sender:{login:(l=(s=t==null?void 0:t.sender)==null?void 0:s.login)!=null?l:"",title:(o=(c=t==null?void 0:t.sender)==null?void 0:c.title)!=null?o:""},recipients:t==null?void 0:t.recipients.map(E=>{var S,U;return{login:(S=E.login)!=null?S:"",title:(U=E.title)!=null?U:""}}),subject:(a=t==null?void 0:t.subject)!=null?a:"",time:(t==null?void 0:t.time)?me(t.time).format("HH:MM"):"",body:{title:(p=(f=t==null?void 0:t.body)==null?void 0:f.title)!=null?p:"",html:(y=(v=t==null?void 0:t.body)==null?void 0:v.html)!=null?y:""}}}):[]};function Re(r){let e,i,t,n;return e=new Se({props:{activeFolder:r[0]}}),e.$on("click",r[2]),t=new Ue({props:{messages:r[1]}}),{c(){M(e.$$.fragment),i=b(),M(t.$$.fragment)},m(s,l){F(e,s,l),h(s,i,l),F(t,s,l),n=!0},p(s,[l]){const c={};l&1&&(c.activeFolder=s[0]),e.$set(c);const o={};l&2&&(o.messages=s[1]),t.$set(o)},i(s){n||($(e.$$.fragment,s),$(t.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),m(t.$$.fragment,s),n=!1},d(s){w(e,s),s&&g(i),w(t,s)}}}function De(r,e,i){let t=z.INPUT,n=[];const s=c=>{i(0,t=c.detail.type)},l=async()=>{i(1,n=await Le(t))};return r.$$.update=()=>{r.$$.dirty&1&&t&&l()},[t,n,s]}class Be extends N{constructor(e){super();A(this,e,De,Re,O,{})}}function qe(r){let e,i,t,n,s,l,c;return t=new Ae({}),l=new Be({}),{c(){e=d("div"),i=d("div"),M(t.$$.fragment),n=b(),s=d("main"),M(l.$$.fragment),_(s,"class","main svelte-3yjb9v"),_(i,"class","app svelte-3yjb9v"),_(e,"class","container svelte-3yjb9v")},m(o,a){h(o,e,a),u(e,i),F(t,i,null),u(i,n),u(i,s),F(l,s,null),c=!0},p:L,i(o){c||($(t.$$.fragment,o),$(l.$$.fragment,o),c=!0)},o(o){m(t.$$.fragment,o),m(l.$$.fragment,o),c=!1},d(o){o&&g(e),w(t),w(l)}}}class He extends N{constructor(e){super();A(this,e,null,qe,O,{})}}new He({target:document.getElementById("app")});
