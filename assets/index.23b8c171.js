import{S as E,i as P,s as T,e as _,a as p,b as h,u as oe,g as ce,c as ae,t as $,d as m,f as g,h as A,j as b,k as I,l as u,m as L,n as q,o as H,p as ue,q as fe,r as F,v as M,w,F as V,x as de,y as R,z as _e,A as J,B as G,C as pe,D as ve,E as $e,G as me,H as he,I as ge}from"./vendor.04d9eabe.js";const be=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}};be();const ye=o=>({}),Q=o=>({});function W(o){let e,n;const t=o[4].icon,l=fe(t,o,o[3],Q);return{c(){e=_("span"),l&&l.c(),p(e,"class","icon-container svelte-7t3h26")},m(s,i){h(s,e,i),l&&l.m(e,null),n=!0},p(s,i){l&&l.p&&(!n||i&8)&&oe(l,t,s,s[3],n?ae(t,s[3],i,ye):ce(s[3]),Q)},i(s){n||($(l,s),n=!0)},o(s){m(l,s),n=!1},d(s){s&&g(e),l&&l.d(s)}}}function ke(o){let e,n,t,l,s=o[2].icon&&W(o);return{c(){e=_("button"),n=A(o[0]),t=b(),s&&s.c(),p(e,"class","svelte-7t3h26"),I(e,"icon-top",Fe==="top"),I(e,"contained",o[1]==="contained"),I(e,"outlined",o[1]==="outlined")},m(i,c){h(i,e,c),u(e,n),u(e,t),s&&s.m(e,null),l=!0},p(i,[c]){(!l||c&1)&&L(n,i[0]),i[2].icon?s?(s.p(i,c),c&4&&$(s,1)):(s=W(i),s.c(),$(s,1),s.m(e,null)):s&&(q(),m(s,1,1,()=>{s=null}),H()),c&2&&I(e,"contained",i[1]==="contained"),c&2&&I(e,"outlined",i[1]==="outlined")},i(i){l||($(s),l=!0)},o(i){m(s),l=!1},d(i){i&&g(e),s&&s.d()}}}let Fe="top";function Me(o,e,n){let{$$slots:t={},$$scope:l}=e;const s=ue(t);let{text:i=""}=e,{variant:c="contained"}=e;return o.$$set=r=>{"text"in r&&n(0,i=r.text),"variant"in r&&n(1,c=r.variant),"$$scope"in r&&n(3,l=r.$$scope)},[i,c,s,l,t]}class X extends E{constructor(e){super();P(this,e,Me,ke,T,{text:0,variant:1})}}var k;(function(o){o.MAIN="Main",o.SORT="Sort",o.SERVICE="Service"})(k||(k={}));const Y=[{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",type:k.MAIN},{title:"\u0423\u043F\u043E\u0440\u044F\u0434\u043E\u0447\u0438\u0432\u0430\u043D\u0438\u0435",type:k.SORT},{title:"\u0421\u0435\u0440\u0432\u0438\u0441",type:k.SERVICE}];function Z(o){let e,n,t,l,s,i,c,r;return l=new X({props:{variant:"outlined",color:"primary",text:"\u0441\u043E\u0437\u0434\u0430\u0442\u044C",$$slots:{icon:[we]},$$scope:{ctx:o}}}),c=new X({props:{variant:"outlined",color:"primary",text:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C",$$slots:{icon:[Ie]},$$scope:{ctx:o}}}),{c(){e=_("div"),n=_("ul"),t=_("li"),F(l.$$.fragment),s=b(),i=_("li"),F(c.$$.fragment),p(t,"class","svelte-s9vjz0"),p(i,"class","svelte-s9vjz0"),p(n,"class","buttons svelte-s9vjz0"),p(e,"class","panel")},m(a,f){h(a,e,f),u(e,n),u(n,t),M(l,t,null),u(n,s),u(n,i),M(c,i,null),r=!0},p(a,f){const d={};f&2&&(d.$$scope={dirty:f,ctx:a}),l.$set(d);const v={};f&2&&(v.$$scope={dirty:f,ctx:a}),c.$set(v)},i(a){r||($(l.$$.fragment,a),$(c.$$.fragment,a),r=!0)},o(a){m(l.$$.fragment,a),m(c.$$.fragment,a),r=!1},d(a){a&&g(e),w(l),w(c)}}}function we(o){let e,n;return e=new V({props:{icon:de,size:"1.6x"}}),{c(){F(e.$$.fragment)},m(t,l){M(e,t,l),n=!0},p:R,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Ie(o){let e,n;return e=new V({props:{icon:_e,size:"1.6x"}}),{c(){F(e.$$.fragment)},m(t,l){M(e,t,l),n=!0},p:R,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function x(o){let e;return{c(){e=_("div"),p(e,"class","panel")},m(n,t){h(n,e,t)},d(n){n&&g(e)}}}function je(o){let e,n,t,l=o[0]===k.MAIN&&Z(o),s=o[0]===k.SORT&&x();return{c(){e=_("div"),l&&l.c(),n=b(),s&&s.c(),p(e,"class","container svelte-s9vjz0")},m(i,c){h(i,e,c),l&&l.m(e,null),u(e,n),s&&s.m(e,null),t=!0},p(i,[c]){i[0]===k.MAIN?l?(l.p(i,c),c&1&&$(l,1)):(l=Z(i),l.c(),$(l,1),l.m(e,n)):l&&(q(),m(l,1,1,()=>{l=null}),H()),i[0]===k.SORT?s||(s=x(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(i){t||($(l),t=!0)},o(i){m(l),t=!1},d(i){i&&g(e),l&&l.d(),s&&s.d()}}}function Ne(o,e,n){let{activeMenu:t=k.MAIN}=e;return o.$$set=l=>{"activeMenu"in l&&n(0,t=l.activeMenu)},[t]}class Ee extends E{constructor(e){super();P(this,e,Ne,je,T,{activeMenu:0})}}function ee(o,e,n){const t=o.slice();return t[3]=e[n].type,t[4]=e[n].title,t}function te(o){let e,n,t=o[4]+"",l,s,i,c;function r(){return o[2](o[3])}return{c(){e=_("li"),n=_("button"),l=A(t),s=b(),p(n,"class","svelte-48shyi"),I(n,"is-active",o[3]===o[0])},m(a,f){h(a,e,f),u(e,n),u(n,l),u(e,s),i||(c=J(n,"click",r),i=!0)},p(a,f){o=a,f&1&&I(n,"is-active",o[3]===o[0])},d(a){a&&g(e),i=!1,c()}}}function Pe(o){let e,n,t,l,s,i=Y,c=[];for(let r=0;r<i.length;r+=1)c[r]=te(ee(o,i,r));return l=new Ee({props:{activeMenu:o[0]}}),{c(){e=_("header"),n=_("ul");for(let r=0;r<c.length;r+=1)c[r].c();t=b(),F(l.$$.fragment),p(n,"class","buttons svelte-48shyi"),p(e,"class","container")},m(r,a){h(r,e,a),u(e,n);for(let f=0;f<c.length;f+=1)c[f].m(n,null);h(r,t,a),M(l,r,a),s=!0},p(r,[a]){if(a&3){i=Y;let d;for(d=0;d<i.length;d+=1){const v=ee(r,i,d);c[d]?c[d].p(v,a):(c[d]=te(v),c[d].c(),c[d].m(n,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=i.length}const f={};a&1&&(f.activeMenu=r[0]),l.$set(f)},i(r){s||($(l.$$.fragment,r),s=!0)},o(r){m(l.$$.fragment,r),s=!1},d(r){r&&g(e),G(c,r),r&&g(t),w(l,r)}}}function Te(o,e,n){let t=k.MAIN;const l=i=>n(0,t=i);return[t,l,i=>l(i)]}class Ae extends E{constructor(e){super();P(this,e,Te,Pe,T,{})}}var O;(function(o){o.INPUT="Input",o.OUTPUT="Output"})(O||(O={}));const le=[{title:"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:O.INPUT,icon:pe},{title:"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:O.OUTPUT,icon:ve}];function ne(o,e,n){const t=o.slice();return t[3]=e[n].title,t[4]=e[n].type,t[5]=e[n].icon,t}function ie(o){let e,n,t,l,s=o[3]+"",i,c,r,a,f;t=new V({props:{icon:o[5],size:"1x",class:"icon"}});function d(){return o[2](o[4])}return{c(){e=_("li"),n=_("button"),F(t.$$.fragment),l=b(),i=A(s),c=b(),p(n,"class","svelte-i4t9ze"),I(n,"is-active",o[4]===o[0]),p(e,"class","svelte-i4t9ze")},m(v,y){h(v,e,y),u(e,n),M(t,n,null),u(n,l),u(n,i),u(e,c),r=!0,a||(f=J(n,"click",d),a=!0)},p(v,y){o=v,y&1&&I(n,"is-active",o[4]===o[0])},i(v){r||($(t.$$.fragment,v),r=!0)},o(v){m(t.$$.fragment,v),r=!1},d(v){v&&g(e),w(t),a=!1,f()}}}function Oe(o){let e,n,t=le,l=[];for(let i=0;i<t.length;i+=1)l[i]=ie(ne(o,t,i));const s=i=>m(l[i],1,1,()=>{l[i]=null});return{c(){e=_("ul");for(let i=0;i<l.length;i+=1)l[i].c();p(e,"class","svelte-i4t9ze")},m(i,c){h(i,e,c);for(let r=0;r<l.length;r+=1)l[r].m(e,null);n=!0},p(i,[c]){if(c&3){t=le;let r;for(r=0;r<t.length;r+=1){const a=ne(i,t,r);l[r]?(l[r].p(a,c),$(l[r],1)):(l[r]=ie(a),l[r].c(),$(l[r],1),l[r].m(e,null))}for(q(),r=t.length;r<l.length;r+=1)s(r);H()}},i(i){if(!n){for(let c=0;c<t.length;c+=1)$(l[c]);n=!0}},o(i){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)m(l[c]);n=!1},d(i){i&&g(e),G(l,i)}}}function Se(o,e,n){let{activeFolder:t=O.INPUT}=e;const l=i=>n(0,t=i),s=i=>l(i);return o.$$set=i=>{"activeFolder"in i&&n(0,t=i.activeFolder)},[t,l,s]}class ze extends E{constructor(e){super();P(this,e,Se,Oe,T,{activeFolder:0})}}function se(o,e,n){const t=o.slice();return t[1]=e[n].sender,t[2]=e[n].subject,t[3]=e[n].time,t[4]=e[n].body,t}function re(o){let e,n,t,l,s=o[1].title+"",i,c,r,a,f=o[2]+"",d,v,y,N=o[3]+"",S,U,C,B=o[4].title+"",D,K;return{c(){e=_("li"),n=_("button"),t=_("div"),l=_("div"),i=A(s),c=b(),r=_("div"),a=_("span"),d=A(f),v=b(),y=_("time"),S=A(N),U=b(),C=_("div"),D=A(B),K=b(),p(l,"class","title svelte-1952uk0"),p(a,"class","svelte-1952uk0"),p(y,"class","svelte-1952uk0"),p(r,"class","subject svelte-1952uk0"),p(C,"class","body svelte-1952uk0"),p(t,"class","wrapper svelte-1952uk0"),p(n,"class","svelte-1952uk0"),p(e,"class","svelte-1952uk0")},m(j,z){h(j,e,z),u(e,n),u(n,t),u(t,l),u(l,i),u(t,c),u(t,r),u(r,a),u(a,d),u(r,v),u(r,y),u(y,S),u(t,U),u(t,C),u(C,D),u(e,K)},p(j,z){z&1&&s!==(s=j[1].title+"")&&L(i,s),z&1&&f!==(f=j[2]+"")&&L(d,f),z&1&&N!==(N=j[3]+"")&&L(S,N),z&1&&B!==(B=j[4].title+"")&&L(D,B)},d(j){j&&g(e)}}}function Ue(o){let e,n=o[0],t=[];for(let l=0;l<n.length;l+=1)t[l]=re(se(o,n,l));return{c(){e=_("ul");for(let l=0;l<t.length;l+=1)t[l].c();p(e,"class","svelte-1952uk0")},m(l,s){h(l,e,s);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(l,[s]){if(s&1){n=l[0];let i;for(i=0;i<n.length;i+=1){const c=se(l,n,i);t[i]?t[i].p(c,s):(t[i]=re(c),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}},i:R,o:R,d(l){l&&g(e),G(t,l)}}}function Le(o,e,n){let{messages:t=[]}=e;return o.$$set=l=>{"messages"in l&&n(0,t=l.messages)},[t]}class Re extends E{constructor(e){super();P(this,e,Le,Ue,T,{messages:0})}}const Ce=async o=>{try{return await(await fetch(o)).json()}catch(e){return alert(e==null?void 0:e.message),{errorMessage:e==null?void 0:e.message}}},Be=async o=>{const e=o===O.INPUT?"./data/mail/inbox.json":"./data/mail/outbox.json",n=await Ce(e);return"data"in n&&n.data?n.data.map(t=>{var l,s,i,c,r,a,f,d,v,y;return{id:(l=t.id)!=null?l:0,sender:{login:(i=(s=t==null?void 0:t.sender)==null?void 0:s.login)!=null?i:"",title:(r=(c=t==null?void 0:t.sender)==null?void 0:c.title)!=null?r:""},recipients:t==null?void 0:t.recipients.map(N=>{var S,U;return{login:(S=N.login)!=null?S:"",title:(U=N.title)!=null?U:""}}),subject:(a=t==null?void 0:t.subject)!=null?a:"",time:(t==null?void 0:t.time)?$e(t.time).format("HH:MM"):"",body:{title:(d=(f=t==null?void 0:t.body)==null?void 0:f.title)!=null?d:"",html:(y=(v=t==null?void 0:t.body)==null?void 0:v.html)!=null?y:""}}}):[]};function De(o){let e,n,t,l,s;function i(r){o[2](r)}let c={};return o[0]!==void 0&&(c.activeFolder=o[0]),e=new ze({props:c}),me.push(()=>he(e,"activeFolder",i)),l=new Re({props:{messages:o[1]}}),{c(){F(e.$$.fragment),t=b(),F(l.$$.fragment)},m(r,a){M(e,r,a),h(r,t,a),M(l,r,a),s=!0},p(r,[a]){const f={};!n&&a&1&&(n=!0,f.activeFolder=r[0],ge(()=>n=!1)),e.$set(f);const d={};a&2&&(d.messages=r[1]),l.$set(d)},i(r){s||($(e.$$.fragment,r),$(l.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),m(l.$$.fragment,r),s=!1},d(r){w(e,r),r&&g(t),w(l,r)}}}function qe(o,e,n){let t=O.INPUT,l=[];const s=async()=>{n(1,l=await Be(t))};function i(c){t=c,n(0,t)}return o.$$.update=()=>{o.$$.dirty&1&&t&&s()},[t,l,i]}class He extends E{constructor(e){super();P(this,e,qe,De,T,{})}}function Ve(o){let e,n,t,l,s,i,c;return t=new Ae({}),i=new He({}),{c(){e=_("div"),n=_("div"),F(t.$$.fragment),l=b(),s=_("main"),F(i.$$.fragment),p(s,"class","main svelte-3yjb9v"),p(n,"class","app svelte-3yjb9v"),p(e,"class","container svelte-3yjb9v")},m(r,a){h(r,e,a),u(e,n),M(t,n,null),u(n,l),u(n,s),M(i,s,null),c=!0},p:R,i(r){c||($(t.$$.fragment,r),$(i.$$.fragment,r),c=!0)},o(r){m(t.$$.fragment,r),m(i.$$.fragment,r),c=!1},d(r){r&&g(e),w(t),w(i)}}}class Ge extends E{constructor(e){super();P(this,e,null,Ve,T,{})}}new Ge({target:document.getElementById("app")});
