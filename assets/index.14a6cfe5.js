import{w as he,S as Y,i as G,s as K,e as g,t as H,a as F,b as p,c as N,d as O,f as d,l as V,g as j,n as X,h as W,j as Qe,k as Ve,m as S,o as A,p as $,q as M,r as E,u as ee,v as te,F as oe,x as Z,y as ge,z as We,A as Ze,B as xe,C as et,D as tt,E as me,G as ce,H as ae,I as ue,J as lt,K as nt,L as it,M as st,N as ot,O as rt,P as ct,Q as at,R as ut,T as ft,U as pe,V as fe,W as dt,X as de,Y as ne,Z as re,_ as _t,$ as vt,a0 as ht,a1 as gt,a2 as ke}from"./vendor.6143e79d.js";const mt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}};mt();var ie;(function(i){i.MAIN="Main",i.CALENDAR="Calendar",i.NOTES="Notes"})(ie||(ie={}));const be=[{title:"\u041F\u043E\u0447\u0442\u0430",type:ie.MAIN},{title:"\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C",type:ie.CALENDAR},{title:"\u0417\u0430\u043C\u0435\u0442\u043A\u0438",type:ie.NOTES}],_e=he(!1),ve=he(ie.MAIN);function $e(i,e,l){const t=i.slice();return t[2]=e[l].type,t[3]=e[l].title,t}function ye(i){let e,l,t=i[3]+"",n,o,s,r;function c(){return i[1](i[2])}return{c(){e=g("li"),l=g("button"),n=H(t),o=F(),p(l,"class","svelte-rxmiqh"),N(l,"is-active",i[2]===ve)},m(u,f){O(u,e,f),d(e,l),d(l,n),d(e,o),s||(r=V(l,"click",c),s=!0)},p(u,f){i=u},d(u){u&&j(e),s=!1,r()}}}function pt(i){let e,l,t=be,n=[];for(let o=0;o<t.length;o+=1)n[o]=ye($e(i,t,o));return{c(){e=g("header"),l=g("ul");for(let o=0;o<n.length;o+=1)n[o].c();p(l,"class","buttons svelte-rxmiqh"),p(e,"class","container")},m(o,s){O(o,e,s),d(e,l);for(let r=0;r<n.length;r+=1)n[r].m(l,null)},p(o,[s]){if(s&1){t=be;let r;for(r=0;r<t.length;r+=1){const c=$e(o,t,r);n[r]?n[r].p(c,s):(n[r]=ye(c),n[r].c(),n[r].m(l,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},i:X,o:X,d(o){o&&j(e),W(n,o)}}}function kt(i){console.log(ve);const e=t=>ve.set(t);return[e,t=>e(t)]}class bt extends Y{constructor(e){super();G(this,e,kt,pt,K,{})}}var le;(function(i){i.INPUT="Input",i.OUTPUT="Output"})(le||(le={}));const Ce=[{title:"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:le.INPUT,icon:Qe},{title:"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0435",type:le.OUTPUT,icon:Ve}];function Te(i,e,l){const t=i.slice();return t[3]=e[l].title,t[4]=e[l].type,t[5]=e[l].icon,t}function Ie(i){let e,l,t,n,o=i[3]+"",s,r,c,u,f;t=new oe({props:{icon:i[5],size:"1x",class:"icon"}});function a(){return i[2](i[4])}return{c(){e=g("li"),l=g("button"),S(t.$$.fragment),n=F(),s=H(o),r=F(),p(l,"class","svelte-1sxyv4a"),N(l,"is-active",i[4]===i[0]),p(e,"class","svelte-1sxyv4a")},m(m,k){O(m,e,k),d(e,l),A(t,l,null),d(l,n),d(l,s),d(e,r),c=!0,u||(f=V(l,"click",a),u=!0)},p(m,k){i=m,k&1&&N(l,"is-active",i[4]===i[0])},i(m){c||($(t.$$.fragment,m),c=!0)},o(m){M(t.$$.fragment,m),c=!1},d(m){m&&j(e),E(t),u=!1,f()}}}function $t(i){let e,l,t=Ce,n=[];for(let s=0;s<t.length;s+=1)n[s]=Ie(Te(i,t,s));const o=s=>M(n[s],1,1,()=>{n[s]=null});return{c(){e=g("ul");for(let s=0;s<n.length;s+=1)n[s].c();p(e,"class","svelte-1sxyv4a")},m(s,r){O(s,e,r);for(let c=0;c<n.length;c+=1)n[c].m(e,null);l=!0},p(s,[r]){if(r&3){t=Ce;let c;for(c=0;c<t.length;c+=1){const u=Te(s,t,c);n[c]?(n[c].p(u,r),$(n[c],1)):(n[c]=Ie(u),n[c].c(),$(n[c],1),n[c].m(e,null))}for(ee(),c=t.length;c<n.length;c+=1)o(c);te()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)$(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)M(n[r]);l=!1},d(s){s&&j(e),W(n,s)}}}function yt(i,e,l){let{activeFolder:t=le.INPUT}=e;const n=s=>l(0,t=s),o=s=>n(s);return i.$$set=s=>{"activeFolder"in s&&l(0,t=s.activeFolder)},[t,n,o]}class Ct extends Y{constructor(e){super();G(this,e,yt,$t,K,{activeFolder:0})}}function Me(i,e,l){const t=i.slice();return t[4]=e[l].id,t[5]=e[l].sender,t[6]=e[l].subject,t[7]=e[l].time,t[8]=e[l].body,t}function Fe(i){let e,l,t,n,o=i[5].title+"",s,r,c,u,f=i[6]+"",a,m,k,C=i[7]+"",b,T,y,_=i[8].title+"",L,P,B,q;function w(){return i[3](i[4])}return{c(){var J;e=g("li"),l=g("button"),t=g("div"),n=g("div"),s=H(o),r=F(),c=g("div"),u=g("span"),a=H(f),m=F(),k=g("time"),b=H(C),T=F(),y=g("div"),L=H(_),P=F(),p(n,"class","title svelte-1njkzoa"),p(u,"class","svelte-1njkzoa"),p(k,"class","svelte-1njkzoa"),p(c,"class","subject svelte-1njkzoa"),p(y,"class","body svelte-1njkzoa"),p(t,"class","wrapper svelte-1njkzoa"),p(l,"class","svelte-1njkzoa"),N(l,"is-active",((J=i[0])==null?void 0:J.id)===i[4]),p(e,"class","svelte-1njkzoa")},m(J,U){O(J,e,U),d(e,l),d(l,t),d(t,n),d(n,s),d(t,r),d(t,c),d(c,u),d(u,a),d(c,m),d(c,k),d(k,b),d(t,T),d(t,y),d(y,L),d(e,P),B||(q=V(l,"click",w),B=!0)},p(J,U){var R;i=J,U&2&&o!==(o=i[5].title+"")&&Z(s,o),U&2&&f!==(f=i[6]+"")&&Z(a,f),U&2&&C!==(C=i[7]+"")&&Z(b,C),U&2&&_!==(_=i[8].title+"")&&Z(L,_),U&3&&N(l,"is-active",((R=i[0])==null?void 0:R.id)===i[4])},d(J){J&&j(e),B=!1,q()}}}function Tt(i){let e,l=i[1],t=[];for(let n=0;n<l.length;n+=1)t[n]=Fe(Me(i,l,n));return{c(){e=g("ul");for(let n=0;n<t.length;n+=1)t[n].c();p(e,"class","svelte-1njkzoa")},m(n,o){O(n,e,o);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(n,[o]){if(o&7){l=n[1];let s;for(s=0;s<l.length;s+=1){const r=Me(n,l,s);t[s]?t[s].p(r,o):(t[s]=Fe(r),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},i:X,o:X,d(n){n&&j(e),W(t,n)}}}function It(i,e,l){let{messages:t=[]}=e,{activeMessage:n=null}=e;const o=r=>{const c=t.find(({id:u})=>u===r);c&&l(0,n=c)},s=r=>o(r);return i.$$set=r=>{"messages"in r&&l(1,t=r.messages),"activeMessage"in r&&l(0,n=r.activeMessage)},[n,t,o,s]}class Mt extends Y{constructor(e){super();G(this,e,It,Tt,K,{messages:1,activeMessage:0})}}function Le(i,e,l){const t=i.slice();return t[1]=e[l],t}function Pe(i){let e,l,t=i[0].subject+"",n,o,s,r,c=i[0].sender.title+"",u,f,a,m,k,C,b=i[0].body.html+"",T=i[0].recipients,y=[];for(let _=0;_<T.length;_+=1)y[_]=we(Le(i,T,_));return{c(){e=g("div"),l=g("h2"),n=H(t),o=F(),s=g("div"),r=H("\u041E\u0442 \u043A\u043E\u0433\u043E: "),u=H(c),f=F(),a=g("div"),m=H(`\u041A\u043E\u043C\u0443:
      `);for(let _=0;_<y.length;_+=1)y[_].c();k=F(),C=g("div"),p(l,"class","svelte-1jksqi8"),p(C,"class","body"),p(e,"class","container svelte-1jksqi8")},m(_,L){O(_,e,L),d(e,l),d(l,n),d(e,o),d(e,s),d(s,r),d(s,u),d(e,f),d(e,a),d(a,m);for(let P=0;P<y.length;P+=1)y[P].m(a,null);d(e,k),d(e,C),C.innerHTML=b},p(_,L){if(L&1&&t!==(t=_[0].subject+"")&&Z(n,t),L&1&&c!==(c=_[0].sender.title+"")&&Z(u,c),L&1){T=_[0].recipients;let P;for(P=0;P<T.length;P+=1){const B=Le(_,T,P);y[P]?y[P].p(B,L):(y[P]=we(B),y[P].c(),y[P].m(a,null))}for(;P<y.length;P+=1)y[P].d(1);y.length=T.length}L&1&&b!==(b=_[0].body.html+"")&&(C.innerHTML=b)},d(_){_&&j(e),W(y,_)}}}function we(i){let e=i[1].title+"",l;return{c(){l=H(e)},m(t,n){O(t,l,n)},p(t,n){n&1&&e!==(e=t[1].title+"")&&Z(l,e)},d(t){t&&j(l)}}}function Ft(i){let e,l=i[0]!==null&&Pe(i);return{c(){l&&l.c(),e=ge()},m(t,n){l&&l.m(t,n),O(t,e,n)},p(t,[n]){t[0]!==null?l?l.p(t,n):(l=Pe(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:X,o:X,d(t){l&&l.d(t),t&&j(e)}}}function Lt(i,e,l){let{activeMessage:t=null}=e;return i.$$set=n=>{"activeMessage"in n&&l(0,t=n.activeMessage)},[t]}class Pt extends Y{constructor(e){super();G(this,e,Lt,Ft,K,{activeMessage:0})}}const wt=async i=>{try{return await(await fetch(i)).json()}catch(e){return alert(e==null?void 0:e.message),{errorMessage:e==null?void 0:e.message}}},Ot=async i=>{const e=i===le.INPUT?"./data/mail/inbox.json":"./data/mail/outbox.json",l=await wt(e);return"data"in l&&l.data?l.data.map(t=>{var n,o,s,r,c,u,f,a,m,k;return{id:(n=t.id)!=null?n:0,sender:{login:(s=(o=t==null?void 0:t.sender)==null?void 0:o.login)!=null?s:"",title:(c=(r=t==null?void 0:t.sender)==null?void 0:r.title)!=null?c:""},recipients:t==null?void 0:t.recipients.map(C=>{var b,T;return{login:(b=C.login)!=null?b:"",title:(T=C.title)!=null?T:""}}),subject:(u=t==null?void 0:t.subject)!=null?u:"",time:(t==null?void 0:t.time)?We(t.time).format("HH:MM"):"",body:{title:(a=(f=t==null?void 0:t.body)==null?void 0:f.title)!=null?a:"",html:(k=(m=t==null?void 0:t.body)==null?void 0:m.html)!=null?k:""}}}):[]};function jt(i){let e,l,t;const n=i[1].default,o=Ze(n,i,i[0],null);return{c(){e=g("div"),l=g("ul"),o&&o.c(),p(l,"class","buttons svelte-f6n4qe"),p(e,"class","container svelte-f6n4qe")},m(s,r){O(s,e,r),d(e,l),o&&o.m(l,null),t=!0},p(s,[r]){o&&o.p&&(!t||r&1)&&xe(o,n,s,s[0],t?tt(n,s[0],r,null):et(s[0]),null)},i(s){t||($(o,s),t=!0)},o(s){M(o,s),t=!1},d(s){s&&j(e),o&&o.d(s)}}}function Rt(i,e,l){let{$$slots:t={},$$scope:n}=e;return i.$$set=o=>{"$$scope"in o&&l(0,n=o.$$scope)},[n,t]}class zt extends Y{constructor(e){super();G(this,e,Rt,jt,K,{})}}function Oe(i){let e,l;return e=new oe({props:{icon:i[4],class:"icon"}}),{c(){S(e.$$.fragment)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.icon=t[4]),e.$set(o)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function Nt(i){let e,l,t,n,o,s,r=i[4]&&Oe(i);return{c(){e=g("button"),l=H(i[0]),t=F(),r&&r.c(),p(e,"class","svelte-1l5e78l"),N(e,"icon-top",i[2]==="top"),N(e,"icon-only",i[2]==="only"),N(e,"contained",i[1]==="contained"),N(e,"outlined",i[1]==="outlined"),N(e,"size-s",i[3]==="S"),N(e,"is-pressed",i[5])},m(c,u){O(c,e,u),d(e,l),d(e,t),r&&r.m(e,null),n=!0,o||(s=V(e,"click",i[6]),o=!0)},p(c,[u]){(!n||u&1)&&Z(l,c[0]),c[4]?r?(r.p(c,u),u&16&&$(r,1)):(r=Oe(c),r.c(),$(r,1),r.m(e,null)):r&&(ee(),M(r,1,1,()=>{r=null}),te()),u&4&&N(e,"icon-top",c[2]==="top"),u&4&&N(e,"icon-only",c[2]==="only"),u&2&&N(e,"contained",c[1]==="contained"),u&2&&N(e,"outlined",c[1]==="outlined"),u&8&&N(e,"size-s",c[3]==="S"),u&32&&N(e,"is-pressed",c[5])},i(c){n||($(r),n=!0)},o(c){M(r),n=!1},d(c){c&&j(e),r&&r.d(),o=!1,s()}}}function St(i,e,l){let{text:t=""}=e,{variant:n="contained"}=e,{iconPosition:o="top"}=e,{size:s="M"}=e,{icon:r=null}=e,{isPressed:c=!1}=e;const u=me(),f=()=>u("click");return i.$$set=a=>{"text"in a&&l(0,t=a.text),"variant"in a&&l(1,n=a.variant),"iconPosition"in a&&l(2,o=a.iconPosition),"size"in a&&l(3,s=a.size),"icon"in a&&l(4,r=a.icon),"isPressed"in a&&l(5,c=a.isPressed)},[t,n,o,s,r,c,f]}class se extends Y{constructor(e){super();G(this,e,St,Nt,K,{text:0,variant:1,iconPosition:2,size:3,icon:4,isPressed:5})}}function At(i){let e,l,t,n,o,s;return l=new se({props:{variant:"outlined",color:"primary",text:"\u0441\u043E\u0437\u0434\u0430\u0442\u044C",icon:lt,iconPosition:"top"}}),l.$on("click",i[3]),o=new se({props:{variant:"outlined",color:"primary",text:"\u0443\u0434\u0430\u043B\u0438\u0442\u044C",iconPosition:"top",icon:nt}}),{c(){e=g("li"),S(l.$$.fragment),t=F(),n=g("li"),S(o.$$.fragment)},m(r,c){O(r,e,c),A(l,e,null),O(r,t,c),O(r,n,c),A(o,n,null),s=!0},p:X,i(r){s||($(l.$$.fragment,r),$(o.$$.fragment,r),s=!0)},o(r){M(l.$$.fragment,r),M(o.$$.fragment,r),s=!1},d(r){r&&j(e),E(l),r&&j(t),r&&j(n),E(o)}}}function Et(i){let e,l,t,n,o,s,r,c,u,f,a,m;e=new zt({props:{$$slots:{default:[At]},$$scope:{ctx:i}}});function k(_){i[4](_)}function C(_){i[5](_)}let b={};i[0]!==void 0&&(b.activeFolder=i[0]),i[1]!==void 0&&(b.activeMessage=i[1]),n=new Ct({props:b}),ce.push(()=>ae(n,"activeFolder",k)),ce.push(()=>ae(n,"activeMessage",C));function T(_){i[6](_)}let y={messages:i[2]};return i[1]!==void 0&&(y.activeMessage=i[1]),c=new Mt({props:y}),ce.push(()=>ae(c,"activeMessage",T)),a=new Pt({props:{activeMessage:i[1]}}),{c(){S(e.$$.fragment),l=F(),t=g("div"),S(n.$$.fragment),r=F(),S(c.$$.fragment),f=F(),S(a.$$.fragment),p(t,"class","container svelte-d5siw9")},m(_,L){A(e,_,L),O(_,l,L),O(_,t,L),A(n,t,null),d(t,r),A(c,t,null),d(t,f),A(a,t,null),m=!0},p(_,[L]){const P={};L&256&&(P.$$scope={dirty:L,ctx:_}),e.$set(P);const B={};!o&&L&1&&(o=!0,B.activeFolder=_[0],ue(()=>o=!1)),!s&&L&2&&(s=!0,B.activeMessage=_[1],ue(()=>s=!1)),n.$set(B);const q={};L&4&&(q.messages=_[2]),!u&&L&2&&(u=!0,q.activeMessage=_[1],ue(()=>u=!1)),c.$set(q);const w={};L&2&&(w.activeMessage=_[1]),a.$set(w)},i(_){m||($(e.$$.fragment,_),$(n.$$.fragment,_),$(c.$$.fragment,_),$(a.$$.fragment,_),m=!0)},o(_){M(e.$$.fragment,_),M(n.$$.fragment,_),M(c.$$.fragment,_),M(a.$$.fragment,_),m=!1},d(_){E(e,_),_&&j(l),_&&j(t),E(n),E(c),E(a)}}}function Ut(i,e,l){let t=le.INPUT,n=null,o=[];const s=()=>_e.set(!0),r=async()=>{const a=await Ot(t);a.length&&(l(2,o=a),l(1,n=a[0]))};function c(a){t=a,l(0,t)}function u(a){n=a,l(1,n)}function f(a){n=a,l(1,n)}return i.$$.update=()=>{i.$$.dirty&1&&t&&r()},[t,n,o,s,c,u,f]}class qt extends Y{constructor(e){super();G(this,e,Ut,Et,K,{})}}var D;(function(i){i.BOLD="bold",i.ITALIC="italic",i.STRIKE_THROUGH="strikeThrough",i.JUSTIFY_LEFT="justifyLeft",i.JUSTIFY_CENTER="justifyCenter",i.JUSTIFY_RIGHT="justifyRight",i.JUSTIFY_FULL="justifyFull",i.FORE_COLOR="foreColor",i.HILITE_COLOR="hiliteColor"})(D||(D={}));const je=[{type:D.BOLD,icon:it},{type:D.ITALIC,icon:st},{type:D.STRIKE_THROUGH,icon:ot}],Re=[{type:D.JUSTIFY_LEFT,icon:rt},{type:D.JUSTIFY_CENTER,icon:ct},{type:D.JUSTIFY_RIGHT,icon:at},{type:D.JUSTIFY_FULL,icon:ut}],ze=[{type:D.FORE_COLOR,icon:null,defaultColor:"black"},{type:D.HILITE_COLOR,icon:ft,defaultColor:"white"}],Ne=["red","blue","orange","green","violet","black","gray","brown","coral","indigo","crimson","lime","gold","pink","white"],Bt="black";function Se(i,e,l){const t=i.slice();return t[9]=e[l],t}function Ae(i){let e;return{c(){e=g("div"),p(e,"class","selected-color svelte-1tt3l3z"),fe(e,"background-color",i[0])},m(l,t){O(l,e,t)},p(l,t){t&1&&fe(e,"background-color",l[0])},d(l){l&&j(e)}}}function Ee(i){let e,l,t,n,o,s,r,c,u=Ne,f=[];for(let a=0;a<u.length;a+=1)f[a]=Ue(Se(i,u,a));return{c(){e=g("div"),l=g("ul");for(let a=0;a<f.length;a+=1)f[a].c();t=F(),n=g("button"),n.textContent="\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0446\u0432\u0435\u0442",p(l,"class","colors svelte-1tt3l3z"),p(n,"class","reset svelte-1tt3l3z"),p(e,"class","content svelte-1tt3l3z")},m(a,m){O(a,e,m),d(e,l);for(let k=0;k<f.length;k+=1)f[k].m(l,null);d(e,t),d(e,n),s=!0,r||(c=V(n,"click",i[5]),r=!0)},p(a,m){if(m&16){u=Ne;let k;for(k=0;k<u.length;k+=1){const C=Se(a,u,k);f[k]?f[k].p(C,m):(f[k]=Ue(C),f[k].c(),f[k].m(l,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=u.length}},i(a){s||(de(()=>{o||(o=ne(e,re,{y:-10,duration:300},!0)),o.run(1)}),s=!0)},o(a){o||(o=ne(e,re,{y:-10,duration:300},!1)),o.run(0),s=!1},d(a){a&&j(e),W(f,a),a&&o&&o.end(),r=!1,c()}}}function Ue(i){let e,l,t,n,o;function s(){return i[7](i[9])}return{c(){e=g("li"),l=g("button"),t=F(),p(l,"class","color svelte-1tt3l3z"),fe(l,"background-color",i[9])},m(r,c){O(r,e,c),d(e,l),d(e,t),n||(o=V(l,"click",s),n=!0)},p(r,c){i=r},d(r){r&&j(e),n=!1,o()}}}function Ht(i){let e,l,t,n,o,s,r,c,u,f,a,m,k;n=new oe({props:{icon:i[1]?i[1]:pe,class:"icon"}});let C=i[0]&&Ae(i);u=new oe({props:{icon:dt,class:"chevron"}});let b=i[2]&&Ee(i);return{c(){e=g("div"),l=g("button"),t=g("div"),S(n.$$.fragment),o=F(),C&&C.c(),s=F(),r=g("div"),c=F(),S(u.$$.fragment),f=F(),b&&b.c(),p(r,"class","separate svelte-1tt3l3z"),p(l,"class","main-button svelte-1tt3l3z"),p(e,"class","container svelte-1tt3l3z")},m(T,y){O(T,e,y),d(e,l),d(l,t),A(n,t,null),d(t,o),C&&C.m(t,null),d(l,s),d(l,r),d(l,c),A(u,l,null),d(e,f),b&&b.m(e,null),a=!0,m||(k=V(l,"click",i[3]),m=!0)},p(T,[y]){const _={};y&2&&(_.icon=T[1]?T[1]:pe),n.$set(_),T[0]?C?C.p(T,y):(C=Ae(T),C.c(),C.m(t,null)):C&&(C.d(1),C=null),T[2]?b?(b.p(T,y),y&4&&$(b,1)):(b=Ee(T),b.c(),$(b,1),b.m(e,null)):b&&(ee(),M(b,1,1,()=>{b=null}),te())},i(T){a||($(n.$$.fragment,T),$(u.$$.fragment,T),$(b),a=!0)},o(T){M(n.$$.fragment,T),M(u.$$.fragment,T),M(b),a=!1},d(T){T&&j(e),E(n),C&&C.d(),E(u),b&&b.d(),m=!1,k()}}}function Dt(i,e,l){let{mainIcon:t=null}=e,n=!1,{selectedColor:o=null}=e,{defaultColor:s=Bt}=e;const r=me(),c=()=>l(2,n=!n),u=m=>{l(0,o=m),r("select",{color:m}),l(2,n=!1)},f=()=>{l(0,o=null),r("select",{color:s}),l(2,n=!1)},a=m=>u(m);return i.$$set=m=>{"mainIcon"in m&&l(1,t=m.mainIcon),"selectedColor"in m&&l(0,o=m.selectedColor),"defaultColor"in m&&l(6,s=m.defaultColor)},[o,t,n,c,u,f,s,a]}class Jt extends Y{constructor(e){super();G(this,e,Dt,Ht,K,{mainIcon:1,selectedColor:0,defaultColor:6})}}function qe(i,e,l){const t=i.slice();return t[7]=e[l].type,t[8]=e[l].icon,t[9]=e[l].defaultColor,t}function Be(i,e,l){const t=i.slice();return t[7]=e[l].type,t[8]=e[l].icon,t}function He(i,e,l){const t=i.slice();return t[7]=e[l].type,t[8]=e[l].icon,t[15]=l,t}function De(i){let e,l,t,n,o,s,r,c,u,f,a,m,k,C,b,T,y,_,L,P,B;s=new se({props:{text:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon:gt,variant:"outlined",iconPosition:"top"}});let q=je,w=[];for(let h=0;h<q.length;h+=1)w[h]=Je(He(i,q,h));const J=h=>M(w[h],1,1,()=>{w[h]=null});let U=Re,R=[];for(let h=0;h<U.length;h+=1)R[h]=Ye(Be(i,U,h));const Ke=h=>M(R[h],1,1,()=>{R[h]=null});let x=ze,z=[];for(let h=0;h<x.length;h+=1)z[h]=Ge(qe(i,x,h));const Xe=h=>M(z[h],1,1,()=>{z[h]=null});return{c(){e=g("div"),l=g("div"),t=F(),n=g("div"),o=g("div"),S(s.$$.fragment),r=F(),c=g("div"),u=g("ul");for(let h=0;h<w.length;h+=1)w[h].c();f=F(),a=g("ul");for(let h=0;h<R.length;h+=1)R[h].c();m=F(),k=g("ul");for(let h=0;h<z.length;h+=1)z[h].c();C=F(),b=g("div"),p(l,"class","overlay svelte-1dqrk5n"),p(u,"class","controls svelte-1dqrk5n"),p(a,"class","controls svelte-1dqrk5n"),p(k,"class","controls svelte-1dqrk5n"),p(c,"class","control-panel svelte-1dqrk5n"),p(b,"class","field svelte-1dqrk5n"),p(b,"contenteditable","true"),p(n,"class","content svelte-1dqrk5n"),p(e,"class","container svelte-1dqrk5n")},m(h,I){O(h,e,I),d(e,l),d(e,t),d(e,n),d(n,o),A(s,o,null),d(n,r),d(n,c),d(c,u);for(let v=0;v<w.length;v+=1)w[v].m(u,null);d(c,f),d(c,a);for(let v=0;v<R.length;v+=1)R[v].m(a,null);d(c,m),d(c,k);for(let v=0;v<z.length;v+=1)z[v].m(k,null);d(n,C),d(n,b),L=!0,P||(B=[V(l,"click",i[2]),_t(T=vt.call(null,n))],P=!0)},p(h,I){if(I&10){q=je;let v;for(v=0;v<q.length;v+=1){const Q=He(h,q,v);w[v]?(w[v].p(Q,I),$(w[v],1)):(w[v]=Je(Q),w[v].c(),$(w[v],1),w[v].m(u,null))}for(ee(),v=q.length;v<w.length;v+=1)J(v);te()}if(I&10){U=Re;let v;for(v=0;v<U.length;v+=1){const Q=Be(h,U,v);R[v]?(R[v].p(Q,I),$(R[v],1)):(R[v]=Ye(Q),R[v].c(),$(R[v],1),R[v].m(a,null))}for(ee(),v=U.length;v<R.length;v+=1)Ke(v);te()}if(I&16){x=ze;let v;for(v=0;v<x.length;v+=1){const Q=qe(h,x,v);z[v]?(z[v].p(Q,I),$(z[v],1)):(z[v]=Ge(Q),z[v].c(),$(z[v],1),z[v].m(k,null))}for(ee(),v=x.length;v<z.length;v+=1)Xe(v);te()}},i(h){if(!L){$(s.$$.fragment,h);for(let I=0;I<q.length;I+=1)$(w[I]);for(let I=0;I<U.length;I+=1)$(R[I]);for(let I=0;I<x.length;I+=1)$(z[I]);de(()=>{y||(y=ne(n,re,{y:-100,duration:300},!0)),y.run(1)}),de(()=>{_||(_=ne(e,ke,{delay:100,duration:300},!0)),_.run(1)}),L=!0}},o(h){M(s.$$.fragment,h),w=w.filter(Boolean);for(let I=0;I<w.length;I+=1)M(w[I]);R=R.filter(Boolean);for(let I=0;I<R.length;I+=1)M(R[I]);z=z.filter(Boolean);for(let I=0;I<z.length;I+=1)M(z[I]);y||(y=ne(n,re,{y:-100,duration:300},!1)),y.run(0),_||(_=ne(e,ke,{delay:100,duration:300},!1)),_.run(0),L=!1},d(h){h&&j(e),E(s),W(w,h),W(R,h),W(z,h),h&&y&&y.end(),h&&_&&_.end(),P=!1,ht(B)}}}function Je(i){let e,l,t,n;function o(){return i[5](i[7])}return l=new se({props:{variant:"outlined",size:"S",icon:i[8],iconPosition:"only",isPressed:i[1].includes(i[7])}}),l.$on("click",o),{c(){e=g("li"),S(l.$$.fragment),t=F(),p(e,"class","svelte-1dqrk5n")},m(s,r){O(s,e,r),A(l,e,null),d(e,t),n=!0},p(s,r){i=s;const c={};r&2&&(c.isPressed=i[1].includes(i[7])),l.$set(c)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){M(l.$$.fragment,s),n=!1},d(s){s&&j(e),E(l)}}}function Ye(i){let e,l,t,n;function o(){return i[6](i[7])}return l=new se({props:{variant:"outlined",size:"S",icon:i[8],iconPosition:"only",isPressed:i[1].includes(i[7])}}),l.$on("click",o),{c(){e=g("li"),S(l.$$.fragment),t=F(),p(e,"class","svelte-1dqrk5n")},m(s,r){O(s,e,r),A(l,e,null),d(e,t),n=!0},p(s,r){i=s;const c={};r&2&&(c.isPressed=i[1].includes(i[7])),l.$set(c)},i(s){n||($(l.$$.fragment,s),n=!0)},o(s){M(l.$$.fragment,s),n=!1},d(s){s&&j(e),E(l)}}}function Ge(i){let e,l,t,n;return l=new Jt({props:{mainIcon:i[8],defaultColor:i[9]}}),l.$on("select",i[4](i[7])),{c(){e=g("li"),S(l.$$.fragment),t=F(),p(e,"class","svelte-1dqrk5n")},m(o,s){O(o,e,s),A(l,e,null),d(e,t),n=!0},p:X,i(o){n||($(l.$$.fragment,o),n=!0)},o(o){M(l.$$.fragment,o),n=!1},d(o){o&&j(e),E(l)}}}function Yt(i){let e,l,t=i[0]&&De(i);return{c(){t&&t.c(),e=ge()},m(n,o){t&&t.m(n,o),O(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&$(t,1)):(t=De(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(ee(),M(t,1,1,()=>{t=null}),te())},i(n){l||($(t),l=!0)},o(n){M(t),l=!1},d(n){t&&t.d(n),n&&j(e)}}}function Gt(i,e,l){let t=!1,n=[];_e.subscribe(f=>{l(0,t=f)});const o=()=>_e.update(()=>!1),s=f=>{n.includes(f)?l(1,n=n.filter(a=>a!==f)):l(1,n=[...n,f]),document.execCommand(f)};return[t,n,o,s,f=>a=>{document.execCommand(f,!0,a.detail.color)},f=>s(f),f=>s(f)]}class Kt extends Y{constructor(e){super();G(this,e,Gt,Yt,K,{})}}function Xt(i){let e,l,t,n,o,s,r,c,u;return t=new bt({}),s=new qt({}),c=new Kt({}),{c(){e=g("div"),l=g("div"),S(t.$$.fragment),n=F(),o=g("main"),S(s.$$.fragment),r=F(),S(c.$$.fragment),p(o,"class","main"),p(l,"class","app svelte-2hvj1p"),p(e,"class","container svelte-2hvj1p")},m(f,a){O(f,e,a),d(e,l),A(t,l,null),d(l,n),d(l,o),A(s,o,null),d(e,r),A(c,e,null),u=!0},p:X,i(f){u||($(t.$$.fragment,f),$(s.$$.fragment,f),$(c.$$.fragment,f),u=!0)},o(f){M(t.$$.fragment,f),M(s.$$.fragment,f),M(c.$$.fragment,f),u=!1},d(f){f&&j(e),E(t),E(s),E(c)}}}class Qt extends Y{constructor(e){super();G(this,e,null,Xt,K,{})}}new Qt({target:document.getElementById("app")});
